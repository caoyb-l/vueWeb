{"remainingRequest":"E:\\XiangMu\\ant-design-pro-vue\\node_modules\\babel-loader\\lib\\index.js!E:\\XiangMu\\ant-design-pro-vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\XiangMu\\ant-design-pro-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\XiangMu\\ant-design-pro-vue\\src\\views\\ques\\modules\\AllSkills.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\XiangMu\\ant-design-pro-vue\\src\\views\\ques\\modules\\AllSkills.vue","mtime":1567223538227},{"path":"E:\\XiangMu\\ant-design-pro-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\XiangMu\\ant-design-pro-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\XiangMu\\ant-design-pro-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\XiangMu\\ant-design-pro-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { queryData } from '@/api/common';\nexport default {\n  props: ['skillsId', 'skillTableRefresh'],\n  data: function data() {\n    return {\n      labelCol: {\n        xs: {\n          span: 24\n        },\n        sm: {\n          span: 7\n        }\n      },\n      wrapperCol: {\n        xs: {\n          span: 24\n        },\n        sm: {\n          span: 13\n        }\n      },\n      visible: false,\n      skillList: [],\n      selectSkills: []\n    };\n  },\n  methods: {\n    // 显示技能\n    getSkillList: function getSkillList() {\n      var _this = this;\n\n      var param = {\n        robotSkillTypeId: '5',\n        skillsId: this.skillsId\n      };\n      queryData(param, '/robotSkill/getRobotSkillByTypeList').then(function (res) {\n        console.log(res.result);\n        _this.skillList = res.result;\n        return res.result;\n      });\n    },\n    add: function add() {\n      this.visible = true;\n      this.getSkillList();\n    },\n    handleChange: function handleChange(value) {\n      console.log(\"Selected: \".concat(value));\n      this.selectSkills = value;\n    },\n    afterClose: function afterClose() {},\n    handleSubmit: function handleSubmit() {\n      var _this = this;\n\n      if (this.selectSkills.length <= 0) {\n        _this.$message.success('未添加技能');\n\n        _this.visible = false;\n        return;\n      }\n\n      var orgId = JSON.parse(localStorage.getItem('user')).orgId;\n      var skills = this.selectSkills.map(function (value, index) {\n        return _this.skillList[value];\n      });\n      var param = {\n        user: orgId,\n        skillsId: this.skillsId,\n        robotSkillList: skills\n      };\n      queryData(param, '/skillsOption/saveList').then(function (res) {\n        console.log(res.result);\n\n        if (res.code == 0) {\n          _this.$message.success('添加成功');\n\n          _this.selectSkills = [];\n          _this.visible = false;\n\n          _this.skillTableRefresh();\n        } else {\n          _this.$message.error(res.message);\n        }\n      });\n    }\n  }\n};",{"version":3,"sources":["AllSkills.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAsBA,SAAA,SAAA,QAAA,cAAA;AACA,eAAA;AACA,EAAA,KAAA,EAAA,CAAA,UAAA,EAAA,mBAAA,CADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,QAAA,EAAA;AACA,QAAA,EAAA,EAAA;AAAA,UAAA,IAAA,EAAA;AAAA,SADA;AAEA,QAAA,EAAA,EAAA;AAAA,UAAA,IAAA,EAAA;AAAA;AAFA,OADA;AAKA,MAAA,UAAA,EAAA;AACA,QAAA,EAAA,EAAA;AAAA,UAAA,IAAA,EAAA;AAAA,SADA;AAEA,QAAA,EAAA,EAAA;AAAA,UAAA,IAAA,EAAA;AAAA;AAFA,OALA;AASA,MAAA,OAAA,EAAA,KATA;AAUA,MAAA,SAAA,EAAA,EAVA;AAWA,MAAA,YAAA,EAAA;AAXA,KAAA;AAaA,GAhBA;AAkBA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,YAFA,0BAEA;AACA,UAAA,KAAA,GAAA,IAAA;;AACA,UAAA,KAAA,GAAA;AAAA,QAAA,gBAAA,EAAA,GAAA;AAAA,QAAA,QAAA,EAAA,KAAA;AAAA,OAAA;AACA,MAAA,SAAA,CAAA,KAAA,EAAA,qCAAA,CAAA,CAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,GAAA,CAAA,MAAA;AACA,QAAA,KAAA,CAAA,SAAA,GAAA,GAAA,CAAA,MAAA;AACA,eAAA,GAAA,CAAA,MAAA;AACA,OAJA;AAKA,KAVA;AAYA,IAAA,GAZA,iBAYA;AACA,WAAA,OAAA,GAAA,IAAA;AACA,WAAA,YAAA;AACA,KAfA;AAgBA,IAAA,YAhBA,wBAgBA,KAhBA,EAgBA;AACA,MAAA,OAAA,CAAA,GAAA,qBAAA,KAAA;AACA,WAAA,YAAA,GAAA,KAAA;AACA,KAnBA;AAqBA,IAAA,UArBA,wBAqBA,CAAA,CArBA;AAsBA,IAAA,YAtBA,0BAsBA;AACA,UAAA,KAAA,GAAA,IAAA;;AACA,UAAA,KAAA,YAAA,CAAA,MAAA,IAAA,CAAA,EAAA;AACA,QAAA,KAAA,CAAA,QAAA,CAAA,OAAA,CAAA,OAAA;;AACA,QAAA,KAAA,CAAA,OAAA,GAAA,KAAA;AACA;AAAA;;AACA,UAAA,KAAA,GAAA,IAAA,CAAA,KAAA,CAAA,YAAA,CAAA,OAAA,CAAA,MAAA,CAAA,EAAA,KAAA;AACA,UAAA,MAAA,GAAA,KAAA,YAAA,CAAA,GAAA,CAAA,UAAA,KAAA,EAAA,KAAA,EAAA;AACA,eAAA,KAAA,CAAA,SAAA,CAAA,KAAA,CAAA;AACA,OAFA,CAAA;AAGA,UAAA,KAAA,GAAA;AAAA,QAAA,IAAA,EAAA,KAAA;AAAA,QAAA,QAAA,EAAA,KAAA,QAAA;AAAA,QAAA,cAAA,EAAA;AAAA,OAAA;AACA,MAAA,SAAA,CAAA,KAAA,EAAA,wBAAA,CAAA,CAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,GAAA,CAAA,MAAA;;AACA,YAAA,GAAA,CAAA,IAAA,IAAA,CAAA,EAAA;AACA,UAAA,KAAA,CAAA,QAAA,CAAA,OAAA,CAAA,MAAA;;AACA,UAAA,KAAA,CAAA,YAAA,GAAA,EAAA;AACA,UAAA,KAAA,CAAA,OAAA,GAAA,KAAA;;AACA,UAAA,KAAA,CAAA,iBAAA;AACA,SALA,MAKA;AACA,UAAA,KAAA,CAAA,QAAA,CAAA,KAAA,CAAA,GAAA,CAAA,OAAA;AACA;AACA,OAVA;AAWA;AA5CA;AAlBA,CAAA","sourcesContent":["<template>\r\n  <a-modal\r\n    title=\"技能管理\"\r\n    style=\"top: 20px;\"\r\n    :width=\"400\"\r\n    :afterClose=\"afterClose\"\r\n    :destroyOnClose=\"true\"\r\n    v-model=\"visible\"\r\n    @ok=\"handleSubmit\"\r\n  >\r\n    <a-select\r\n      mode=\"multiple\"\r\n      style=\"width: 100%\"\r\n      @change=\"handleChange\"     \r\n      placeholder=\"添加技能\"\r\n    >\r\n      <a-select-option v-for=\"(i,index) in skillList\" :key=\"index\" :disabled=\"i.isDel?true:false\">{{ i.title }}</a-select-option>\r\n    </a-select>\r\n  </a-modal>\r\n</template>\r\n\r\n<script>\r\nimport { queryData } from '@/api/common'\r\nexport default {\r\n  props: ['skillsId','skillTableRefresh'],\r\n  data() {\r\n    return {\r\n      labelCol: {\r\n        xs: { span: 24 },\r\n        sm: { span: 7 }\r\n      },\r\n      wrapperCol: {\r\n        xs: { span: 24 },\r\n        sm: { span: 13 }\r\n      },\r\n      visible: false,\r\n      skillList: [],\r\n      selectSkills: []\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    // 显示技能\r\n    getSkillList() {\r\n      var _this = this\r\n      var param = { robotSkillTypeId: '5', skillsId: this.skillsId }\r\n      queryData(param, '/robotSkill/getRobotSkillByTypeList').then(res => {\r\n        console.log(res.result)\r\n        _this.skillList = res.result\r\n        return res.result\r\n      })\r\n    },\r\n\r\n    add() {\r\n      this.visible = true\r\n      this.getSkillList()\r\n    },\r\n    handleChange(value) {\r\n      console.log(`Selected: ${value}`)\r\n      this.selectSkills=value;\r\n    },\r\n   \r\n    afterClose() {},\r\n    handleSubmit() {\r\n      var _this = this\r\n      if(this.selectSkills.length<=0){\r\n         _this.$message.success('未添加技能')\r\n          _this.visible = false\r\n        return;}\r\n      let orgId = JSON.parse(localStorage.getItem('user')).orgId;\r\n      var skills=this.selectSkills.map((value,index)=>{\r\n        return _this.skillList[value];\r\n      })\r\n      var param = { user: orgId, skillsId: this.skillsId,robotSkillList:skills}\r\n      queryData(param, '/skillsOption/saveList').then(res => {\r\n        console.log(res.result)\r\n        if (res.code == 0) {\r\n          _this.$message.success('添加成功')\r\n          _this.selectSkills=[]\r\n          _this.visible = false\r\n          _this.skillTableRefresh();\r\n        } else {\r\n          _this.$message.error(res.message)\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n"],"sourceRoot":"src/views/ques/modules"}]}