{"remainingRequest":"E:\\XiangMu\\ant-design-pro-vue\\node_modules\\babel-loader\\lib\\index.js!E:\\XiangMu\\ant-design-pro-vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\XiangMu\\ant-design-pro-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\XiangMu\\ant-design-pro-vue\\src\\views\\ques\\modules\\UpdateExcel.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\XiangMu\\ant-design-pro-vue\\src\\views\\ques\\modules\\UpdateExcel.vue","mtime":1566272672944},{"path":"E:\\XiangMu\\ant-design-pro-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\XiangMu\\ant-design-pro-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\XiangMu\\ant-design-pro-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\XiangMu\\ant-design-pro-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { queryData } from '@/api/common';\nexport default {\n  props: ['skillsId', 'skillTableRefresh'],\n  data: function data() {\n    return {\n      headers: {\n        authorization: 'authorization-text'\n      },\n      labelCol: {\n        xs: {\n          span: 24\n        },\n        sm: {\n          span: 7\n        }\n      },\n      wrapperCol: {\n        xs: {\n          span: 24\n        },\n        sm: {\n          span: 13\n        }\n      },\n      visible: false,\n      skillList: [],\n      selectSkills: []\n    };\n  },\n  methods: {\n    add: function add() {\n      this.visible = true;\n      this.getSkillList();\n    },\n    handleChange: function handleChange(info) {\n      if (info.file.status !== 'uploading') {\n        console.log(info.file, info.fileList);\n      }\n\n      if (info.file.status === 'done') {\n        this.$message.success(\"\\u4E0A\\u4F20\\u6210\\u529F\");\n      } else if (info.file.status === 'error') {\n        this.$message.error(\"\\u4E0A\\u4F20\\u5931\\u8D25\");\n      }\n    },\n    afterClose: function afterClose() {},\n    handleSubmit: function handleSubmit() {\n      var _this = this;\n\n      var orgId = JSON.parse(localStorage.getItem('user')).orgId;\n      var skills = this.selectSkills.map(function (value, index) {\n        return _this.skillList[value];\n      });\n      var param = {\n        user: orgId,\n        skillsId: this.skillsId,\n        robotSkillList: skills\n      };\n      queryData(param, '/skillsOption/saveList').then(function (res) {\n        console.log(res.result);\n\n        if (res.code == 0) {\n          _this.$message.success('添加成功');\n\n          _this.visible = false;\n\n          _this.skillTableRefresh();\n        } else {\n          _this.$message.error(res.message);\n        }\n      });\n    }\n  }\n};",{"version":3,"sources":["UpdateExcel.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAwBA,SAAA,SAAA,QAAA,cAAA;AACA,eAAA;AACA,EAAA,KAAA,EAAA,CAAA,UAAA,EAAA,mBAAA,CADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,OAAA,EAAA;AACA,QAAA,aAAA,EAAA;AADA,OADA;AAIA,MAAA,QAAA,EAAA;AACA,QAAA,EAAA,EAAA;AAAA,UAAA,IAAA,EAAA;AAAA,SADA;AAEA,QAAA,EAAA,EAAA;AAAA,UAAA,IAAA,EAAA;AAAA;AAFA,OAJA;AAQA,MAAA,UAAA,EAAA;AACA,QAAA,EAAA,EAAA;AAAA,UAAA,IAAA,EAAA;AAAA,SADA;AAEA,QAAA,EAAA,EAAA;AAAA,UAAA,IAAA,EAAA;AAAA;AAFA,OARA;AAYA,MAAA,OAAA,EAAA,KAZA;AAaA,MAAA,SAAA,EAAA,EAbA;AAcA,MAAA,YAAA,EAAA;AAdA,KAAA;AAgBA,GAnBA;AAqBA,EAAA,OAAA,EAAA;AACA,IAAA,GADA,iBACA;AACA,WAAA,OAAA,GAAA,IAAA;AACA,WAAA,YAAA;AACA,KAJA;AAKA,IAAA,YALA,wBAKA,IALA,EAKA;AACA,UAAA,IAAA,CAAA,IAAA,CAAA,MAAA,KAAA,WAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,IAAA,CAAA,IAAA,EAAA,IAAA,CAAA,QAAA;AACA;;AACA,UAAA,IAAA,CAAA,IAAA,CAAA,MAAA,KAAA,MAAA,EAAA;AACA,aAAA,QAAA,CAAA,OAAA;AACA,OAFA,MAEA,IAAA,IAAA,CAAA,IAAA,CAAA,MAAA,KAAA,OAAA,EAAA;AACA,aAAA,QAAA,CAAA,KAAA;AACA;AACA,KAdA;AAeA,IAAA,UAfA,wBAeA,CAAA,CAfA;AAgBA,IAAA,YAhBA,0BAgBA;AACA,UAAA,KAAA,GAAA,IAAA;;AACA,UAAA,KAAA,GAAA,IAAA,CAAA,KAAA,CAAA,YAAA,CAAA,OAAA,CAAA,MAAA,CAAA,EAAA,KAAA;AACA,UAAA,MAAA,GAAA,KAAA,YAAA,CAAA,GAAA,CAAA,UAAA,KAAA,EAAA,KAAA,EAAA;AACA,eAAA,KAAA,CAAA,SAAA,CAAA,KAAA,CAAA;AACA,OAFA,CAAA;AAGA,UAAA,KAAA,GAAA;AAAA,QAAA,IAAA,EAAA,KAAA;AAAA,QAAA,QAAA,EAAA,KAAA,QAAA;AAAA,QAAA,cAAA,EAAA;AAAA,OAAA;AACA,MAAA,SAAA,CAAA,KAAA,EAAA,wBAAA,CAAA,CAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,GAAA,CAAA,MAAA;;AACA,YAAA,GAAA,CAAA,IAAA,IAAA,CAAA,EAAA;AACA,UAAA,KAAA,CAAA,QAAA,CAAA,OAAA,CAAA,MAAA;;AACA,UAAA,KAAA,CAAA,OAAA,GAAA,KAAA;;AACA,UAAA,KAAA,CAAA,iBAAA;AACA,SAJA,MAIA;AACA,UAAA,KAAA,CAAA,QAAA,CAAA,KAAA,CAAA,GAAA,CAAA,OAAA;AACA;AACA,OATA;AAUA;AAjCA;AArBA,CAAA","sourcesContent":["<template>\r\n  <a-modal\r\n    title=\"批量上传文件\"\r\n    style=\"top: 20px;\"\r\n    :width=\"400\"\r\n    :afterClose=\"afterClose\"\r\n    :destroyOnClose=\"true\"\r\n    v-model=\"visible\"\r\n    @ok=\"handleSubmit\"\r\n  >\r\n   <a-form-item\r\n        label=\"Excel文件上传\"\r\n        :labelCol=\"labelCol\"\r\n        :wrapperCol=\"wrapperCol\">\r\n    <a-upload name=\"file\" :multiple=\"true\" action=\"http://192.168.1.99:8080/faceManage/faceUpload\" :headers=\"headers\" @change=\"handleChange\">\r\n        <a-button>\r\n        <a-icon type=\"upload\" /> 点击上传\r\n        </a-button>\r\n    </a-upload>\r\n   </a-form-item>\r\n  </a-modal>\r\n</template>\r\n\r\n<script>\r\nimport { queryData } from '@/api/common'\r\nexport default {\r\n  props: ['skillsId', 'skillTableRefresh'],\r\n  data() {\r\n    return {\r\n      headers: {\r\n        authorization: 'authorization-text'\r\n      },\r\n      labelCol: {\r\n        xs: { span: 24 },\r\n        sm: { span: 7 }\r\n      },\r\n      wrapperCol: {\r\n        xs: { span: 24 },\r\n        sm: { span: 13 }\r\n      },\r\n      visible: false,\r\n      skillList: [],\r\n      selectSkills: []\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    add() {\r\n      this.visible = true\r\n      this.getSkillList()\r\n    },\r\n    handleChange(info) {\r\n      if (info.file.status !== 'uploading') {\r\n        console.log(info.file, info.fileList);\r\n      }\r\n      if (info.file.status === 'done') {\r\n        this.$message.success(`上传成功`);\r\n      } else if (info.file.status === 'error') {\r\n        this.$message.error(`上传失败`);\r\n      }\r\n    },\r\n    afterClose() {},\r\n    handleSubmit() {\r\n      var _this = this\r\n      let orgId = JSON.parse(localStorage.getItem('user')).orgId\r\n      var skills = this.selectSkills.map((value, index) => {\r\n        return _this.skillList[value]\r\n      })\r\n      var param = { user: orgId, skillsId: this.skillsId, robotSkillList: skills }\r\n      queryData(param, '/skillsOption/saveList').then(res => {\r\n        console.log(res.result)\r\n        if (res.code == 0) {\r\n          _this.$message.success('添加成功')\r\n          _this.visible = false\r\n          _this.skillTableRefresh()\r\n        } else {\r\n          _this.$message.error(res.message)\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n"],"sourceRoot":"src/views/ques/modules"}]}