{"remainingRequest":"D:\\antd_vue\\ant-design-pro-vue\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js!D:\\antd_vue\\ant-design-pro-vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\antd_vue\\ant-design-pro-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\antd_vue\\ant-design-pro-vue\\src\\views\\list\\TableList.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\antd_vue\\ant-design-pro-vue\\src\\views\\list\\TableList.vue","mtime":1562982512427},{"path":"D:\\antd_vue\\ant-design-pro-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1562295152232},{"path":"D:\\antd_vue\\ant-design-pro-vue\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\babel-loader\\lib\\index.js","mtime":1562032167570},{"path":"D:\\antd_vue\\ant-design-pro-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1562295152232},{"path":"D:\\antd_vue\\ant-design-pro-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1562295154751}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport moment from 'moment';\nimport { STable, Ellipsis } from '@/components';\nimport StepByStepModal from \"./modules/StepByStepModal\";\nimport CreateForm from \"./modules/CreateForm\";\nimport { getRoleList, getServiceList } from '@/api/manage';\nvar statusMap = {\n  0: {\n    status: 'default',\n    text: '关闭'\n  },\n  1: {\n    status: 'processing',\n    text: '运行中'\n  },\n  2: {\n    status: 'success',\n    text: '已上线'\n  },\n  3: {\n    status: 'error',\n    text: '异常'\n  }\n};\nexport default {\n  name: 'TableList',\n  components: {\n    STable: STable,\n    Ellipsis: Ellipsis,\n    CreateForm: CreateForm,\n    StepByStepModal: StepByStepModal\n  },\n  data: function data() {\n    var _this = this;\n\n    return {\n      mdl: {},\n      // 高级搜索 展开/关闭\n      advanced: false,\n      // 查询参数\n      queryParam: {},\n      // 表头\n      columns: [{\n        title: '#',\n        scopedSlots: {\n          customRender: 'serial'\n        }\n      }, {\n        title: '规则编号',\n        dataIndex: 'no'\n      }, {\n        title: '描述',\n        dataIndex: 'description',\n        scopedSlots: {\n          customRender: 'description'\n        }\n      }, {\n        title: '服务调用次数',\n        dataIndex: 'callNo',\n        sorter: true,\n        needTotal: true,\n        customRender: function customRender(text) {\n          return text + ' 次';\n        }\n      }, {\n        title: '状态',\n        dataIndex: 'status',\n        scopedSlots: {\n          customRender: 'status'\n        }\n      }, {\n        title: '更新时间',\n        dataIndex: 'updatedAt',\n        sorter: true\n      }, {\n        title: '操作',\n        dataIndex: 'action',\n        width: '150px',\n        scopedSlots: {\n          customRender: 'action'\n        }\n      }],\n      // 加载数据方法 必须为 Promise 对象\n      loadData: function loadData(parameter) {\n        console.log('loadData.parameter', parameter);\n        return getServiceList(Object.assign(parameter, _this.queryParam)).then(function (res) {\n          console.log(res);\n          return res.result;\n        });\n      },\n      selectedRowKeys: [],\n      selectedRows: [],\n      // custom table alert & rowSelection\n      options: {\n        alert: {\n          show: true,\n          clear: function clear() {\n            _this.selectedRowKeys = [];\n          }\n        },\n        rowSelection: {\n          selectedRowKeys: this.selectedRowKeys,\n          onChange: this.onSelectChange\n        }\n      },\n      optionAlertShow: false\n    };\n  },\n  filters: {\n    statusFilter: function statusFilter(type) {\n      return statusMap[type].text;\n    },\n    statusTypeFilter: function statusTypeFilter(type) {\n      return statusMap[type].status;\n    }\n  },\n  computed: {\n    title: function title() {\n      return this.$route.meta.title;\n    }\n  },\n  created: function created() {\n    this.tableOption();\n    getRoleList({\n      t: new Date()\n    });\n  },\n  methods: {\n    tableOption: function tableOption() {\n      var _this2 = this;\n\n      if (!this.optionAlertShow) {\n        this.options = {\n          alert: {\n            show: true,\n            clear: function clear() {\n              _this2.selectedRowKeys = [];\n            }\n          },\n          rowSelection: {\n            selectedRowKeys: this.selectedRowKeys,\n            onChange: this.onSelectChange,\n            getCheckboxProps: function getCheckboxProps(record) {\n              return {\n                props: {\n                  disabled: record.no === 'No 2',\n                  // Column configuration not to be checked\n                  name: record.no\n                }\n              };\n            }\n          }\n        };\n        this.optionAlertShow = true;\n      } else {\n        this.options = {\n          alert: false,\n          rowSelection: null\n        };\n        this.optionAlertShow = false;\n      }\n    },\n    handleEdit: function handleEdit(record) {\n      console.log(record);\n      this.$refs.modal.edit(record);\n    },\n    handleSub: function handleSub(record) {\n      if (record.status !== 0) {\n        this.$message.info(\"\".concat(record.no, \" \\u8BA2\\u9605\\u6210\\u529F\"));\n      } else {\n        this.$message.error(\"\".concat(record.no, \" \\u8BA2\\u9605\\u5931\\u8D25\\uFF0C\\u89C4\\u5219\\u5DF2\\u5173\\u95ED\"));\n      }\n    },\n    handleOk: function handleOk() {\n      this.$refs.table.refresh();\n    },\n    onSelectChange: function onSelectChange(selectedRowKeys, selectedRows) {\n      this.selectedRowKeys = selectedRowKeys;\n      this.selectedRows = selectedRows;\n    },\n    toggleAdvanced: function toggleAdvanced() {\n      this.advanced = !this.advanced;\n    },\n    resetSearchForm: function resetSearchForm() {\n      this.queryParam = {\n        date: moment(new Date())\n      };\n    }\n  }\n};",{"version":3,"sources":["TableList.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <page-view :title=\"title\">\r\n    <a-card :bordered=\"false\">\r\n      <div class=\"table-page-search-wrapper\">\r\n        <a-form layout=\"inline\">\r\n          <a-row :gutter=\"48\">\r\n            <a-col :md=\"8\" :sm=\"24\">\r\n              <a-form-item label=\"规则编号\">\r\n                <a-input v-model=\"queryParam.id\" placeholder=\"\"/>\r\n              </a-form-item>\r\n            </a-col>\r\n            <a-col :md=\"8\" :sm=\"24\">\r\n              <a-form-item label=\"使用状态\">\r\n                <a-select v-model=\"queryParam.status\" placeholder=\"请选择\" default-value=\"0\">\r\n                  <a-select-option value=\"0\">全部</a-select-option>\r\n                  <a-select-option value=\"1\">关闭</a-select-option>\r\n                  <a-select-option value=\"2\">运行中</a-select-option>\r\n                </a-select>\r\n              </a-form-item>\r\n            </a-col>\r\n            <template v-if=\"advanced\">\r\n              <a-col :md=\"8\" :sm=\"24\">\r\n                <a-form-item label=\"调用次数\">\r\n                  <a-input-number v-model=\"queryParam.callNo\" style=\"width: 100%\"/>\r\n                </a-form-item>\r\n              </a-col>\r\n              <a-col :md=\"8\" :sm=\"24\">\r\n                <a-form-item label=\"更新日期\">\r\n                  <a-date-picker v-model=\"queryParam.date\" style=\"width: 100%\" placeholder=\"请输入更新日期\"/>\r\n                </a-form-item>\r\n              </a-col>\r\n              <a-col :md=\"8\" :sm=\"24\">\r\n                <a-form-item label=\"使用状态\">\r\n                  <a-select v-model=\"queryParam.useStatus\" placeholder=\"请选择\" default-value=\"0\">\r\n                    <a-select-option value=\"0\">全部</a-select-option>\r\n                    <a-select-option value=\"1\">关闭</a-select-option>\r\n                    <a-select-option value=\"2\">运行中</a-select-option>\r\n                  </a-select>\r\n                </a-form-item>\r\n              </a-col>\r\n              <a-col :md=\"8\" :sm=\"24\">\r\n                <a-form-item label=\"使用状态\">\r\n                  <a-select placeholder=\"请选择\" default-value=\"0\">\r\n                    <a-select-option value=\"0\">全部</a-select-option>\r\n                    <a-select-option value=\"1\">关闭</a-select-option>\r\n                    <a-select-option value=\"2\">运行中</a-select-option>\r\n                  </a-select>\r\n                </a-form-item>\r\n              </a-col>\r\n            </template>\r\n            <a-col :md=\"!advanced && 8 || 24\" :sm=\"24\">\r\n              <span class=\"table-page-search-submitButtons\" :style=\"advanced && { float: 'right', overflow: 'hidden' } || {} \">\r\n                <a-button type=\"primary\" @click=\"$refs.table.refresh(true)\">查询</a-button>\r\n                <a-button style=\"margin-left: 8px\" @click=\"() => queryParam = {}\">重置</a-button>\r\n                <a @click=\"toggleAdvanced\" style=\"margin-left: 8px\">\r\n                  {{ advanced ? '收起' : '展开' }}\r\n                  <a-icon :type=\"advanced ? 'up' : 'down'\"/>\r\n                </a>\r\n              </span>\r\n            </a-col>\r\n          </a-row>\r\n        </a-form>\r\n      </div>\r\n\r\n      <div class=\"table-operator\">\r\n        <a-button type=\"primary\" icon=\"plus\" @click=\"$refs.createModal.add()\">新建</a-button>\r\n        <a-button type=\"dashed\" @click=\"tableOption\">{{ optionAlertShow && '关闭' || '开启' }} alert</a-button>\r\n        <a-dropdown v-action:edit v-if=\"selectedRowKeys.length > 0\">\r\n          <a-menu slot=\"overlay\">\r\n            <a-menu-item key=\"1\"><a-icon type=\"delete\" />删除</a-menu-item>\r\n            <!-- lock | unlock -->\r\n            <a-menu-item key=\"2\"><a-icon type=\"lock\" />锁定</a-menu-item>\r\n          </a-menu>\r\n          <a-button style=\"margin-left: 8px\">\r\n            批量操作 <a-icon type=\"down\" />\r\n          </a-button>\r\n        </a-dropdown>\r\n      </div>\r\n\r\n      <s-table\r\n        ref=\"table\"\r\n        size=\"default\"\r\n        rowKey=\"key\"\r\n        :columns=\"columns\"\r\n        :data=\"loadData\"\r\n        :alert=\"options.alert\"\r\n        :rowSelection=\"options.rowSelection\"\r\n        showPagination=\"auto\"\r\n      >\r\n        <span slot=\"serial\" slot-scope=\"text, record, index\">\r\n          {{ index + 1 }}\r\n        </span>\r\n        <span slot=\"status\" slot-scope=\"text\">\r\n          <a-badge :status=\"text | statusTypeFilter\" :text=\"text | statusFilter\" />\r\n        </span>\r\n        <span slot=\"description\" slot-scope=\"text\">\r\n          <ellipsis :length=\"4\" tooltip>{{ text }}</ellipsis>\r\n        </span>\r\n\r\n        <span slot=\"action\" slot-scope=\"text, record\">\r\n          <template>\r\n            <a @click=\"handleEdit(record)\">配置</a>\r\n            <a-divider type=\"vertical\" />\r\n            <a @click=\"handleSub(record)\">订阅报警</a>\r\n          </template>\r\n        </span>\r\n      </s-table>\r\n      <create-form ref=\"createModal\" @ok=\"handleOk\" />\r\n      <step-by-step-modal ref=\"modal\" @ok=\"handleOk\"/>\r\n    </a-card>\r\n  </page-view>\r\n</template>\r\n\r\n<script>\r\nimport moment from 'moment'\r\nimport { STable, Ellipsis } from '@/components'\r\nimport StepByStepModal from './modules/StepByStepModal'\r\nimport CreateForm from './modules/CreateForm'\r\nimport { getRoleList, getServiceList } from '@/api/manage'\r\n\r\nconst statusMap = {\r\n  0: {\r\n    status: 'default',\r\n    text: '关闭'\r\n  },\r\n  1: {\r\n    status: 'processing',\r\n    text: '运行中'\r\n  },\r\n  2: {\r\n    status: 'success',\r\n    text: '已上线'\r\n  },\r\n  3: {\r\n    status: 'error',\r\n    text: '异常'\r\n  }\r\n}\r\n\r\nexport default {\r\n  name: 'TableList',\r\n  components: {\r\n    STable,\r\n    Ellipsis,\r\n    CreateForm,\r\n    StepByStepModal\r\n  },\r\n  data () {\r\n    return {\r\n      mdl: {},\r\n      // 高级搜索 展开/关闭\r\n      advanced: false,\r\n      // 查询参数\r\n      queryParam: {},\r\n      // 表头\r\n      columns: [\r\n        {\r\n          title: '#',\r\n          scopedSlots: { customRender: 'serial' }\r\n        },\r\n        {\r\n          title: '规则编号',\r\n          dataIndex: 'no'\r\n        },\r\n        {\r\n          title: '描述',\r\n          dataIndex: 'description',\r\n          scopedSlots: { customRender: 'description' }\r\n        },\r\n        {\r\n          title: '服务调用次数',\r\n          dataIndex: 'callNo',\r\n          sorter: true,\r\n          needTotal: true,\r\n          customRender: (text) => text + ' 次'\r\n        },\r\n        {\r\n          title: '状态',\r\n          dataIndex: 'status',\r\n          scopedSlots: { customRender: 'status' }\r\n        },\r\n        {\r\n          title: '更新时间',\r\n          dataIndex: 'updatedAt',\r\n          sorter: true\r\n        },\r\n        {\r\n          title: '操作',\r\n          dataIndex: 'action',\r\n          width: '150px',\r\n          scopedSlots: { customRender: 'action' }\r\n        }\r\n      ],\r\n      // 加载数据方法 必须为 Promise 对象\r\n      loadData: parameter => {\r\n        console.log('loadData.parameter', parameter)\r\n        return getServiceList(Object.assign(parameter, this.queryParam))\r\n          .then(res => {\r\n            console.log(res)\r\n            return res.result\r\n          })\r\n      },\r\n      selectedRowKeys: [],\r\n      selectedRows: [],\r\n\r\n      // custom table alert & rowSelection\r\n      options: {\r\n        alert: { show: true, clear: () => { this.selectedRowKeys = [] } },\r\n        rowSelection: {\r\n          selectedRowKeys: this.selectedRowKeys,\r\n          onChange: this.onSelectChange\r\n        }\r\n      },\r\n      optionAlertShow: false\r\n    }\r\n  },\r\n  filters: {\r\n    statusFilter (type) {\r\n      return statusMap[type].text\r\n    },\r\n    statusTypeFilter (type) {\r\n      return statusMap[type].status\r\n    }\r\n  },\r\n  computed: {\r\n    title () {\r\n      return this.$route.meta.title\r\n    }\r\n  },\r\n  created () {\r\n    this.tableOption()\r\n    getRoleList({ t: new Date() })\r\n  },\r\n  methods: {\r\n    tableOption () {\r\n      if (!this.optionAlertShow) {\r\n        this.options = {\r\n          alert: { show: true, clear: () => { this.selectedRowKeys = [] } },\r\n          rowSelection: {\r\n            selectedRowKeys: this.selectedRowKeys,\r\n            onChange: this.onSelectChange,\r\n            getCheckboxProps: record => ({\r\n              props: {\r\n                disabled: record.no === 'No 2', // Column configuration not to be checked\r\n                name: record.no\r\n              }\r\n            })\r\n          }\r\n        }\r\n        this.optionAlertShow = true\r\n      } else {\r\n        this.options = {\r\n          alert: false,\r\n          rowSelection: null\r\n        }\r\n        this.optionAlertShow = false\r\n      }\r\n    },\r\n\r\n    handleEdit (record) {\r\n      console.log(record)\r\n      this.$refs.modal.edit(record)\r\n    },\r\n    handleSub (record) {\r\n      if (record.status !== 0) {\r\n        this.$message.info(`${record.no} 订阅成功`)\r\n      } else {\r\n        this.$message.error(`${record.no} 订阅失败，规则已关闭`)\r\n      }\r\n    },\r\n    handleOk () {\r\n      this.$refs.table.refresh()\r\n    },\r\n    onSelectChange (selectedRowKeys, selectedRows) {\r\n      this.selectedRowKeys = selectedRowKeys\r\n      this.selectedRows = selectedRows\r\n    },\r\n    toggleAdvanced () {\r\n      this.advanced = !this.advanced\r\n    },\r\n    resetSearchForm () {\r\n      this.queryParam = {\r\n        date: moment(new Date())\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n"],"sourceRoot":"src/views/list"}]}