{"remainingRequest":"/Users/cyb/work/KaiFa/cz_workSpace/robotWeb/node_modules/babel-loader/lib/index.js!/Users/cyb/work/KaiFa/cz_workSpace/robotWeb/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/cyb/work/KaiFa/cz_workSpace/robotWeb/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/cyb/work/KaiFa/cz_workSpace/robotWeb/src/views/robot/modules/showRobotNote.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/cyb/work/KaiFa/cz_workSpace/robotWeb/src/views/robot/modules/showRobotNote.vue","mtime":1587451119878},{"path":"/Users/cyb/work/KaiFa/cz_workSpace/robotWeb/node_modules/cache-loader/dist/cjs.js","mtime":1571637271763},{"path":"/Users/cyb/work/KaiFa/cz_workSpace/robotWeb/node_modules/babel-loader/lib/index.js","mtime":1571637266900},{"path":"/Users/cyb/work/KaiFa/cz_workSpace/robotWeb/node_modules/cache-loader/dist/cjs.js","mtime":1571637271763},{"path":"/Users/cyb/work/KaiFa/cz_workSpace/robotWeb/node_modules/vue-loader/lib/index.js","mtime":1571637450640}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { STable, Ellipsis } from '@/components';\nimport { queryData } from '@/api/common';\nimport editRobotNote from \"./EditRobotNote\";\nimport { uploadUrl } from '@/api/upload';\nexport default {\n  components: {\n    STable: STable,\n    Ellipsis: Ellipsis,\n    editRobotNote: editRobotNote\n  },\n  data: function data() {\n    var _this = this;\n\n    return {\n      labelCol: {\n        xs: {\n          span: 24\n        },\n        sm: {\n          span: 7\n        }\n      },\n      wrapperCol: {\n        xs: {\n          span: 24\n        },\n        sm: {\n          span: 13\n        }\n      },\n      columns: [{\n        title: '序号',\n        dataIndex: 'id',\n        scopedSlots: {\n          customRender: 'serial'\n        }\n      }, {\n        title: '记录日期',\n        dataIndex: 'noteDate'\n      }, {\n        title: '开机时间',\n        dataIndex: 'openTime'\n      }, {\n        title: '开机次数',\n        dataIndex: 'openCount'\n      }, {\n        title: '在线时长',\n        dataIndex: 'onlineDuration'\n      }, {\n        title: '行走里程',\n        dataIndex: 'mileage'\n      }, {\n        title: '最后一次心跳时间',\n        dataIndex: 'lastOnlineTime'\n      }, {\n        title: '业务匹配次数',\n        dataIndex: 'buisCount'\n      }, {\n        title: '闲聊匹配次数',\n        dataIndex: 'chatCount'\n      }, {\n        title: '备注',\n        dataIndex: 'remark',\n        scopedSlots: {\n          customRender: 'remark'\n        }\n      }, {\n        title: '操作',\n        dataIndex: 'action',\n        scopedSlots: {\n          customRender: 'action'\n        }\n      }],\n      url: uploadUrl + 'RobotNote/exportNote',\n      // 查询参数\n      queryParam: {\n        startDate: '',\n        endDate: '',\n        robotCode: '',\n        robotId: ''\n      },\n      visible: false,\n      confirmLoading: false,\n      form: this.$form.createForm(this),\n      loadData: function loadData(parameter) {\n        var parma = Object.assign(parameter, _this.queryParam);\n        return queryData(parma, '/RobotNote/queryRobotNote').then(function (res) {\n          console.log(res);\n          return res.result;\n        });\n      }\n    };\n  },\n  methods: {\n    show: function show(record) {\n      this.queryParam.robotCode = record.code;\n      this.queryParam.robotId = record.id;\n      this.queryParam.startDate = '';\n      this.queryParam.endDate = '';\n      this.visible = true;\n    },\n    handleOk: function handleOk() {\n      this.$refs.table.refresh(true);\n    },\n    // 查看运行记录\n    editRemark: function editRemark(record) {\n      this.$refs.editRobotNote.edit(record);\n    },\n    onChange: function onChange(date, dateString) {\n      this.queryParam.startDate = dateString; // this.$refs.table.refresh()\n    },\n    onChange1: function onChange1(date, dateString) {\n      this.queryParam.endDate = dateString; // this.$refs.table.refresh()\n    },\n    // 重置\n    resetQuery: function resetQuery() {\n      this.$refs.table.refresh(true);\n    },\n    searchData: function searchData() {\n      this.$refs.table.refresh();\n    },\n    handleSubmit: function handleSubmit() {\n      this.visible = false;\n    }\n  }\n};",{"version":3,"sources":["showRobotNote.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <a-modal\n    title=\"运行记录\"\n    style=\"top: 10px;left: 130px\"\n    :width=\"1300\"\n    v-model=\"visible\"\n    @ok=\"handleSubmit\"\n    v-preventReClick\n    :destroyOnClose=\"true\"\n    :maskClosable=\"false\"\n  >\n    <a-card :bordered=\"false\">\n      <div class=\"table-page-search-wrapper\">\n        <a-form layout=\"inline\">\n          <a-row :gutter=\"48\">\n            <a-col :md=\"8\" :sm=\"24\">\n              <a-form-item label=\"开始时间\">\n                <a-date-picker showTime format=\"YYYY-MM-DD\" @change=\"onChange\" />\n              </a-form-item>\n            </a-col>\n            <a-col :md=\"8\" :sm=\"24\">\n              <a-form-item label=\"截止时间\">\n                <a-date-picker showTime format=\"YYYY-MM-DD\" @change=\"onChange1\" />\n              </a-form-item>\n            </a-col>\n            <a-col :md=\"8\" :sm=\"24\">\n              <span class=\"table-page-search-submitButtons\">\n                <a-button type=\"primary\" @click=\"searchData()\">查询</a-button>\n                <a-button style=\"margin-left: 8px\" @click=\"resetQuery()\">重置</a-button>\n                <a-button style=\"margin-left: 8px\" :href = \"url+'?startDate='+this.queryParam.startDate+ '&endDate=' + this.queryParam.endDate+ '&robotCode=' + this.queryParam.robotCode + '&robotId=' + this.queryParam.robotId\">数据导出</a-button>\n              </span>\n            </a-col>\n          </a-row>\n        </a-form>\n      </div>\n      <s-table\n        ref=\"table\"\n        size=\"middle\"\n        rowKey=\"no\"\n        :columns=\"columns\"\n        :data=\"loadData\"\n        showPagination=\"auto\"\n      >\n        <span slot=\"serial\" slot-scope=\"text, record, index\">{{ index + 1 }}</span>\n        <span slot=\"action\" slot-scope=\"text, record\">\n          <template>\n            <a @click=\"editRemark(record)\">备注</a>\n          </template>\n        </span>\n        <template slot-scope=\"text\" slot=\"remark\">\n          <ellipsis :length=\"10\" tooltip>{{text}}</ellipsis>\n        </template>\n      </s-table>\n      <edit-robot-note ref=\"editRobotNote\" @ok=\"handleOk\" />\n    </a-card>\n  </a-modal>\n</template>\n\n<script>\nimport { STable, Ellipsis } from '@/components'\nimport { queryData } from '@/api/common'\nimport editRobotNote from './EditRobotNote'\nimport { uploadUrl } from '@/api/upload'\n\nexport default {\n  components: {\n    STable,\n    Ellipsis,\n    editRobotNote\n  },\n  data() {\n    return {\n      labelCol: {\n        xs: { span: 24 },\n        sm: { span: 7 }\n      },\n      wrapperCol: {\n        xs: { span: 24 },\n        sm: { span: 13 }\n      },\n      columns: [\n        {\n          title: '序号',\n          dataIndex: 'id',\n          scopedSlots: { customRender: 'serial' }\n        },\n        {\n          title: '记录日期',\n          dataIndex: 'noteDate'\n        },\n        {\n          title: '开机时间',\n          dataIndex: 'openTime'\n        },\n        {\n          title: '开机次数',\n          dataIndex: 'openCount'\n        },\n        {\n          title: '在线时长',\n          dataIndex: 'onlineDuration'\n        },\n        {\n          title: '行走里程',\n          dataIndex: 'mileage'\n        },\n        {\n          title: '最后一次心跳时间',\n          dataIndex: 'lastOnlineTime'\n        },\n        {\n          title: '业务匹配次数',\n          dataIndex: 'buisCount'\n        },\n        {\n          title: '闲聊匹配次数',\n          dataIndex: 'chatCount'\n        },\n        {\n          title: '备注',\n          dataIndex: 'remark',\n          scopedSlots: { customRender: 'remark' }\n        },\n        {\n          title: '操作',\n          dataIndex: 'action',\n          scopedSlots: { customRender: 'action' }\n        }\n      ],\n      url: uploadUrl + 'RobotNote/exportNote',\n      // 查询参数\n      queryParam: {\n        startDate: '',\n        endDate: '',\n        robotCode: '',\n        robotId: ''\n      },\n      visible: false,\n      confirmLoading: false,\n      form: this.$form.createForm(this),\n      loadData: parameter => {\n        var parma = Object.assign(parameter, this.queryParam)\n        return queryData(parma, '/RobotNote/queryRobotNote').then(res => {\n          console.log(res)\n          return res.result\n        })\n      }\n    }\n  },\n  methods: {\n    show (record) {\n      this.queryParam.robotCode = record.code\n      this.queryParam.robotId = record.id\n      this.queryParam.startDate = ''\n      this.queryParam.endDate = ''\n      this.visible = true\n    },\n    handleOk () {\n      this.$refs.table.refresh(true)\n    },\n    // 查看运行记录\n    editRemark(record) {\n      this.$refs.editRobotNote.edit(record)\n    },\n    onChange(date, dateString) {\n      this.queryParam.startDate = dateString\n      // this.$refs.table.refresh()\n    },\n    onChange1(date, dateString) {\n      this.queryParam.endDate = dateString\n      // this.$refs.table.refresh()\n    },\n    // 重置\n    resetQuery() {\n      this.$refs.table.refresh(true)\n    },\n    searchData() {\n      this.$refs.table.refresh()\n    },\n\n    handleSubmit() {\n      this.visible = false\n    }\n  }\n}\n</script>"],"sourceRoot":"src/views/robot/modules"}]}