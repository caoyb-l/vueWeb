{"remainingRequest":"/Users/cyb/work/KaiFa/cz_workSpace/robotWeb/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/cyb/work/KaiFa/cz_workSpace/robotWeb/src/views/robot/modules/showRobotNote.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/cyb/work/KaiFa/cz_workSpace/robotWeb/src/views/robot/modules/showRobotNote.vue","mtime":1587451119878},{"path":"/Users/cyb/work/KaiFa/cz_workSpace/robotWeb/node_modules/cache-loader/dist/cjs.js","mtime":1571637271763},{"path":"/Users/cyb/work/KaiFa/cz_workSpace/robotWeb/node_modules/thread-loader/dist/cjs.js","mtime":1571637441620},{"path":"/Users/cyb/work/KaiFa/cz_workSpace/robotWeb/node_modules/babel-loader/lib/index.js","mtime":1571637266900},{"path":"/Users/cyb/work/KaiFa/cz_workSpace/robotWeb/node_modules/cache-loader/dist/cjs.js","mtime":1571637271763},{"path":"/Users/cyb/work/KaiFa/cz_workSpace/robotWeb/node_modules/vue-loader/lib/index.js","mtime":1571637450640}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { STable, Ellipsis } from '@/components'\nimport { queryData } from '@/api/common'\nimport editRobotNote from './EditRobotNote'\nimport { uploadUrl } from '@/api/upload'\n\nexport default {\n  components: {\n    STable,\n    Ellipsis,\n    editRobotNote\n  },\n  data() {\n    return {\n      labelCol: {\n        xs: { span: 24 },\n        sm: { span: 7 }\n      },\n      wrapperCol: {\n        xs: { span: 24 },\n        sm: { span: 13 }\n      },\n      columns: [\n        {\n          title: '序号',\n          dataIndex: 'id',\n          scopedSlots: { customRender: 'serial' }\n        },\n        {\n          title: '记录日期',\n          dataIndex: 'noteDate'\n        },\n        {\n          title: '开机时间',\n          dataIndex: 'openTime'\n        },\n        {\n          title: '开机次数',\n          dataIndex: 'openCount'\n        },\n        {\n          title: '在线时长',\n          dataIndex: 'onlineDuration'\n        },\n        {\n          title: '行走里程',\n          dataIndex: 'mileage'\n        },\n        {\n          title: '最后一次心跳时间',\n          dataIndex: 'lastOnlineTime'\n        },\n        {\n          title: '业务匹配次数',\n          dataIndex: 'buisCount'\n        },\n        {\n          title: '闲聊匹配次数',\n          dataIndex: 'chatCount'\n        },\n        {\n          title: '备注',\n          dataIndex: 'remark',\n          scopedSlots: { customRender: 'remark' }\n        },\n        {\n          title: '操作',\n          dataIndex: 'action',\n          scopedSlots: { customRender: 'action' }\n        }\n      ],\n      url: uploadUrl + 'RobotNote/exportNote',\n      // 查询参数\n      queryParam: {\n        startDate: '',\n        endDate: '',\n        robotCode: '',\n        robotId: ''\n      },\n      visible: false,\n      confirmLoading: false,\n      form: this.$form.createForm(this),\n      loadData: parameter => {\n        var parma = Object.assign(parameter, this.queryParam)\n        return queryData(parma, '/RobotNote/queryRobotNote').then(res => {\n          console.log(res)\n          return res.result\n        })\n      }\n    }\n  },\n  methods: {\n    show (record) {\n      this.queryParam.robotCode = record.code\n      this.queryParam.robotId = record.id\n      this.queryParam.startDate = ''\n      this.queryParam.endDate = ''\n      this.visible = true\n    },\n    handleOk () {\n      this.$refs.table.refresh(true)\n    },\n    // 查看运行记录\n    editRemark(record) {\n      this.$refs.editRobotNote.edit(record)\n    },\n    onChange(date, dateString) {\n      this.queryParam.startDate = dateString\n      // this.$refs.table.refresh()\n    },\n    onChange1(date, dateString) {\n      this.queryParam.endDate = dateString\n      // this.$refs.table.refresh()\n    },\n    // 重置\n    resetQuery() {\n      this.$refs.table.refresh(true)\n    },\n    searchData() {\n      this.$refs.table.refresh()\n    },\n\n    handleSubmit() {\n      this.visible = false\n    }\n  }\n}\n",null]}