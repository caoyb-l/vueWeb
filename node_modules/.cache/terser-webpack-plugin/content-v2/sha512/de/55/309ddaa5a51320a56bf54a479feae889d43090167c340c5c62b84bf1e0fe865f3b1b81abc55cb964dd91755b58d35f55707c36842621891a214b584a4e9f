{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-5b857d0c\"],{1862:function(e,t,l){\"use strict\";var s=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l(\"a-modal\",{attrs:{title:\"命令集\",width:1e3},on:{ok:e.handleSubmit},model:{value:e.showIframe,callback:function(t){e.showIframe=t},expression:\"showIframe\"}},[l(\"iframe\",{ref:\"iframe\",staticStyle:{width:\"100%\",height:\"600px\",border:\"none\"},attrs:{src:e.cmdSrc}})])},i=[],o=(l(\"2934\"),l(\"2af9\")),a={name:\"TableList\",components:{STable:o[\"e\"]},data:function(){return{confirmLoading:!1,form:this.$form.createForm(this),showIframe:!1,cmdSrc:\"http://localhost:8000/robot.html\"}},methods:{show:function(e,t,l){console.log(e);var s=JSON.parse(localStorage.getItem(\"user\")),i=\"?orgId=\"+s.orgId+\"&createBy=\"+s.id+\"&circulation=1&mapId=\"+t+\"&title=\"+e+\"&cmdId=\"+l;console.log(\"--------------cmdSrc\",this.cmdSrc+i),this.cmdSrc=this.cmdSrc+encodeURI(i),this.showIframe=!0},handleSubmit:function(){var e=this.$refs.iframe.contentWindow.document.getElementById(\"number\");console.log(e);var t=e.innerHTML;0==t&&this.$message.error(\"请先点击左下角保存按钮\"),this.$emit(\"getCmdId\",t),console.log(\"--------------命令集id：\",t),this.showIframe=!1},filterOption:function(e,t){return t.componentOptions.children[0].text.toLowerCase().indexOf(e.toLowerCase())>=0}}},n=a,r=(l(\"27a4\"),l(\"2877\")),c=Object(r[\"a\"])(n,s,i,!1,null,null,null);t[\"a\"]=c.exports},\"27a4\":function(e,t,l){\"use strict\";var s=l(\"6eb1\"),i=l.n(s);i.a},2934:function(e,t,l){\"use strict\";l.d(t,\"b\",function(){return i}),l.d(t,\"a\",function(){return o});var s=l(\"b775\");function i(e,t){return console.log(\"查询、删除数据\",e),Object(s[\"b\"])({url:t,method:\"post\",data:e})}function o(e,t){return console.log(\"新增/编辑 数据\",e),Object(s[\"b\"])({url:t,method:\"post\",data:e})}},\"57bd\":function(e,t,l){\"use strict\";l.r(t);var s=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l(\"a-card\",{attrs:{bordered:!0}},[l(\"a-row\",{attrs:{type:\"flex\"}},[l(\"a-col\",{attrs:{span:5}},[l(\"div\",{staticClass:\"table-operator\"},[l(\"a-button\",{directives:[{name:\"action\",rawName:\"v-action:add\",arg:\"add\"}],attrs:{type:\"primary\",icon:\"plus\"},on:{click:function(t){return e.$refs.createQues.add()}}},[e._v(\"新建业务\")]),e.skillsIds.length>0?l(\"a-dropdown\",[l(\"a-menu\",{attrs:{slot:\"overlay\"},slot:\"overlay\"},[l(\"a-menu-item\",{directives:[{name:\"action\",rawName:\"v-action:delete\",arg:\"delete\"}],key:\"1\",on:{click:function(t){return e.deleteSkillsList()}}},[l(\"a-icon\",{attrs:{type:\"delete\"}}),e._v(\"删除\\n            \")],1)],1),l(\"a-button\",{staticStyle:{\"margin-left\":\"8px\"}},[e._v(\"\\n            批量操作\\n            \"),l(\"a-icon\",{attrs:{type:\"down\"}})],1)],1):e._e()],1),l(\"s-table\",{ref:\"table\",attrs:{bordered:\"\",size:\"default\",rowKey:\"id\",columns:e.columnList,data:e.loadData,alert:e.options.alert,rowSelection:e.options.rowSelection,showPagination:\"auto\"},scopedSlots:e._u([{key:\"name\",fn:function(t,s){return l(\"span\",{},[l(\"a-tooltip\",{attrs:{placement:\"topLeft\",title:s.depict,arrowPointAtCenter:\"\"}},[l(\"div\",{ref:\"titleTxt\",on:{click:function(t){return e.showList(s.id,s.title)}}},[e._v(e._s(t))])])],1)}},{key:\"action\",fn:function(t,s){return l(\"span\",{},[[l(\"a-icon\",{directives:[{name:\"action\",rawName:\"v-action:edit\",arg:\"edit\"}],attrs:{type:\"edit\"},on:{click:function(t){return e.handleEditVisible(s)}}})]],2)}}])})],1),e.isShowList?l(\"a-col\",{staticStyle:{\"margin-left\":\"25px\"},attrs:{span:5}},[l(\"div\",{staticClass:\"table-operator\"},[l(\"a-button\",{attrs:{type:\"primary\",icon:\"plus\"},on:{click:function(t){return e.$refs.allSkills.add()}}},[e._v(\"新建技能\")]),e.skillsOptionIds.length>0?l(\"a-dropdown\",[l(\"a-menu\",{attrs:{slot:\"overlay\"},slot:\"overlay\"},[l(\"a-menu-item\",{directives:[{name:\"action\",rawName:\"v-action:delete\",arg:\"delete\"}],key:\"1\",on:{click:function(t){return e.deleteSkillsOptionList()}}},[l(\"a-icon\",{attrs:{type:\"delete\"}}),e._v(\"删除\\n            \")],1)],1),l(\"a-button\",{staticStyle:{\"margin-left\":\"8px\"}},[e._v(\"\\n            批量操作\\n            \"),l(\"a-icon\",{attrs:{type:\"down\"}})],1)],1):e._e()],1),l(\"a-alert\",{staticStyle:{\"margin-bottom\":\"16px\"},attrs:{showIcon:!0}},[l(\"template\",{slot:\"message\"},[l(\"span\",{staticStyle:{\"margin-right\":\"12px\"}},[e._v(\"\\n            所属业务:\\n            \"),l(\"a\",{staticStyle:{\"font-weight\":\"600\"}},[e._v(e._s(e.businessName))])])])],2),l(\"s-table\",{ref:\"skillTable\",attrs:{bordered:\"\",size:\"default\",rowKey:\"id\",columns:e.columnSkillList,data:e.loadSkillOptionData,alert:e.options2.alert,rowSelection:e.options2.rowSelection,showPagination:\"auto\"},scopedSlots:e._u([{key:\"keywords\",fn:function(t){return l(\"span\",{},[e._v(e._s(t))])}},{key:\"action\",fn:function(t,s){return l(\"span\",{},[[l(\"a\",{directives:[{name:\"action\",rawName:\"v-action:edit\",arg:\"edit\"}],on:{click:function(t){return e.handleEditSkillVisible(s)}}},[e._v(\"\\n              编辑\\n              \"),l(\"a-icon\",{attrs:{type:\"edit\"}})],1),l(\"a-divider\",{directives:[{name:\"action\",rawName:\"v-action:delete\",arg:\"delete\"}],attrs:{type:\"vertical\"}}),l(\"a\",{on:{click:function(t){return e.handleDeleteSkillVisible(s)}}},[e._v(\"\\n              删除\\n              \"),l(\"a-icon\",{attrs:{type:\"delete\"}})],1)]],2)}}],null,!1,2101849161)}),l(\"a-textarea\",{staticStyle:{\"margin-bottom\":\"5px\",\"margin-top\":\"10px\"},attrs:{placeholder:\"请输入默认回答内容\",rows:\"2\"},model:{value:e.contents,callback:function(t){e.contents=t},expression:\"contents\"}}),l(\"a-button\",{staticStyle:{width:\"55%\"},attrs:{type:\"primary\"},on:{click:e.updateContents}},[e._v(\"确定\")]),l(\"a-button\",{staticStyle:{\"margin-left\":\"8px\"},attrs:{type:\"down\"},on:{click:e.tableOption2}},[e._v(e._s(e.optionAlertShow2?\"关闭\":\"开启\")+\" 批量\")])],1):e._e(),l(\"a-col\",{staticStyle:{\"margin-top\":\"50px\",\"margin-left\":\"25px\"},attrs:{span:9}},[l(\"a-alert\",{staticStyle:{\"margin-bottom\":\"16px\"},attrs:{showIcon:!0}},[l(\"template\",{slot:\"message\"},[l(\"span\",{staticStyle:{\"margin-right\":\"12px\"}},[e._v(\"\\n            内容详情:\\n            \"),l(\"a\",{staticStyle:{\"font-weight\":\"600\"}},[e._v(e._s(e.businessName)+\" / \"+e._s(e.skillName))])])])],2),e.formVisible?l(\"a-form\",{attrs:{form:e.form}},[l(\"a-form-item\",{attrs:{label:\"回答内容\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[l(\"a-textarea\",{attrs:{placeholder:\"回答内容\",rows:2,autosize:\"\"},model:{value:e.editSkills.contents,callback:function(t){e.$set(e.editSkills,\"contents\",t)},expression:\"editSkills.contents\"}})],1),l(\"a-form-item\",{attrs:{label:\"网址信息\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[l(\"a-radio-group\",{attrs:{name:\"radioGroup\"},model:{value:e.editSkills.netType,callback:function(t){e.$set(e.editSkills,\"netType\",t)},expression:\"editSkills.netType\"}},[l(\"a-radio\",{attrs:{value:0}},[e._v(\"内网\")]),l(\"a-radio\",{attrs:{value:1}},[e._v(\"外网\")])],1),l(\"a-input\",{attrs:{placeholder:\"网址信息\"},model:{value:e.editSkills.url,callback:function(t){e.$set(e.editSkills,\"url\",t)},expression:\"editSkills.url\"}})],1),222==e.editSkills.htmlType?l(\"a-form-item\",{attrs:{label:\"上传文件\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[l(\"a-upload\",{attrs:{name:\"file\",multiple:!0,action:\"http://localhost:54321/skillsOption/fileUpload\",fileList:e.fileList,headers:e.headers,remove:e.handleRemoveFile},on:{change:e.handleChangeFile,preview:e.handlePreview}},[l(\"a-button\",[l(\"a-icon\",{attrs:{type:\"upload\"}}),e._v(\"点击上传\\n            \")],1)],1)],1):e._e(),l(\"a-form-item\",{attrs:{label:\"地图\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[l(\"a-select\",{attrs:{placeholder:\"使用导航请先选择地图\",optionFilterProp:\"children\"},model:{value:e.editSkills.map,callback:function(t){e.$set(e.editSkills,\"map\",t)},expression:\"editSkills.map\"}},e._l(e.mapList,function(t,s){return l(\"a-select-option\",{key:s,attrs:{value:t.id}},[e._v(e._s(t.mapName))])}),1)],1),l(\"a-form-item\",{attrs:{label:\"动作集集\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[l(\"a-select\",{attrs:{placeholder:\"选择动作集\",optionFilterProp:\"children\"},model:{value:e.editSkills.cmd,callback:function(t){e.$set(e.editSkills,\"cmd\",t)},expression:\"editSkills.cmd\"}},e._l(e.cmdList,function(t,s){return l(\"a-select-option\",{key:s,attrs:{value:t.id}},[e._v(e._s(t.name))])}),1)],1),l(\"a-form-item\",{attrs:{label:\"动作集集\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[l(\"a-button\",{attrs:{type:\"primary\"},on:{click:e.choiceCmd}},[e._v(\"动作集编辑\")])],1),l(\"a-form-item\",{staticStyle:{\"text-align\":\"right\"}},[l(\"a-button\",{attrs:{type:\"primary\"},on:{click:e.handleFormSubmit}},[e._v(\"提交\")])],1)],1):e._e()],1)],1),l(\"create-ques\",{ref:\"createQues\",on:{ok:e.handleRefresh}}),l(\"edit-ques\",{ref:\"editQues\",on:{ok:e.handleRefresh}}),l(\"all-skills\",{ref:\"allSkills\",attrs:{skillsId:e.currectSel,skillTableRefresh:e.skillTableRefresh}}),l(\"a-modal\",{attrs:{title:\"Title\",width:1200,visible:e.showCmd},on:{ok:e.handleSubmit}}),l(\"cmd-list\",{ref:\"cmd\",on:{getCmdId:e.getCmdId}})],1)},i=[],o=l(\"cebc\"),a=(l(\"7f7f\"),l(\"75fc\")),n=l(\"bd86\"),r=l(\"680a\"),c=l(\"2af9\"),d=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l(\"a-modal\",{staticStyle:{top:\"20px\"},attrs:{title:\"新建\",width:600},on:{ok:e.handleSubmit},model:{value:e.visible,callback:function(t){e.visible=t},expression:\"visible\"}},[l(\"a-form\",{attrs:{form:e.form}},[l(\"a-form-item\",{attrs:{label:\"名称\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[l(\"a-input\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"title\",{rules:[{required:!0,message:\"请输入名称\"}]}],expression:\"[\\n          'title',\\n          {rules: [{ required: true, message: '请输入名称' }]}\\n        ]\"}],attrs:{placeholder:\"名称\"}})],1),l(\"a-form-item\",{attrs:{label:\"别名\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[l(\"a-input\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"depict\",{rules:[{message:\"请输入别名\"}]}],expression:\"[\\n          'depict',\\n          {rules: [{ message: '请输入别名' }]}\\n        ]\"}],attrs:{placeholder:\"别名\"}})],1),l(\"a-form-item\",{attrs:{label:\"是否公共\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[l(\"a-switch\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"isPub\"],expression:\"[\\n          'isPub'\\n        ]\"}],attrs:{checkedChildren:\"是\",unCheckedChildren:\"否\"},model:{value:e.isPub,callback:function(t){e.isPub=t},expression:\"isPub\"}})],1)],1)],1)},u=[],m=l(\"b775\");function p(e){return console.log(e),Object(m[\"b\"])({url:\"/skills/save\",method:\"POST\",data:e})}var f={data:function(){return{labelCol:{xs:{span:24},sm:{span:7}},wrapperCol:{xs:{span:24},sm:{span:13}},visible:!1,confirmLoading:!1,form:this.$form.createForm(this),isPub:!1}},methods:{onChange:function(e){console.log(\"check:\",e)},add:function(){this.visible=!0},handleSubmit:function(){var e=this,t=this.form.validateFields;this.confirmLoading=!0,t(function(t,l){if(t)e.confirmLoading=!1;else{console.log(\"values\",l);var s=e;setTimeout(function(){var e=void 0==l.isPub||0==l.isPub?0:1;l.isPub=e;var t=JSON.parse(localStorage.getItem(\"user\")),i=[t.orgId,t.id,1],o=i[0],a=i[1],n=i[2],r=Object.assign(l,{orgId:o,user:a,descn:n});p(r).then(function(e){0==e.code?s.$message.success(\"新建成功\"):s.$message.error(e.message),s.visible=!1,s.confirmLoading=!1,s.$emit(\"ok\",l),s.form.resetFields()})},300)}})},handleCancel:function(){this.visible=!1}}},h=f,b=l(\"2877\"),g=Object(b[\"a\"])(h,d,u,!1,null,null,null),v=g.exports,k=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l(\"a-modal\",{staticStyle:{top:\"20px\"},attrs:{title:\"编辑\",width:600},on:{ok:e.handleSubmit},model:{value:e.visible,callback:function(t){e.visible=t},expression:\"visible\"}},[l(\"a-form\",{attrs:{form:e.form}},[l(\"a-form-item\",{attrs:{label:\"名称\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[l(\"a-input\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"title\",{rules:[{required:!0,message:\"请输入名称\"}],initialValue:e.editData.title}],expression:\"[\\n          'title',\\n          {rules: [{ required: true, message: '请输入名称' }],\\n          initialValue:editData.title}\\n        ]\"}],attrs:{placeholder:\"名称\"}})],1),l(\"a-form-item\",{attrs:{label:\"别名\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[l(\"a-input\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"depict\",{rules:[{message:\"请输入别名\"}],initialValue:e.editData.depict}],expression:\"[\\n          'depict',\\n          {rules: [{ message: '请输入别名' }],\\n          initialValue:editData.depict}\\n        ]\"}],attrs:{placeholder:\"别名\"}})],1),l(\"a-form-item\",{attrs:{label:\"是否启用\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[l(\"a-switch\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"isAble\"],expression:\"[\\n          'isAble'\\n        ]\"}],attrs:{checkedChildren:\"是\",unCheckedChildren:\"否\"},model:{value:e.isAble,callback:function(t){e.isAble=t},expression:\"isAble\"}})],1)],1)],1)},S=[],w={data:function(){return{labelCol:{xs:{span:24},sm:{span:7}},wrapperCol:{xs:{span:24},sm:{span:13}},visible:!1,confirmLoading:!1,form:this.$form.createForm(this),isAble:!1,editData:[],entityId:\"\"}},methods:{onChange:function(e){console.log(\"check:\",e)},add:function(e){this.visible=!0,this.editData=e,this.isAble=1==e.isAble,this.entityId=e.id},handleSubmit:function(){var e=this,t=this.form.validateFields;this.confirmLoading=!0,t(function(t,l){if(t)e.confirmLoading=!1;else{var s=e;setTimeout(function(){var t=void 0==l.isAble||0==l.isAble?0:1;l.isAble=t;var i=JSON.parse(localStorage.getItem(\"user\")),o=[i.orgId,i.id,1],a=o[0],n=o[1],r=o[2],c=Object.assign(l,{orgId:a,user:n,type:r},{entityId:e.entityId});p(c).then(function(e){console.log(e),0==e.code?s.$message.success(\"编辑成功\"):s.$message.error(e.message),s.visible=!1,s.confirmLoading=!1,s.$emit(\"ok\",l),s.entityId=\"\",s.form.resetFields()})},300)}})},handleCancel:function(){this.visible=!1}}},C=w,y=Object(b[\"a\"])(C,k,S,!1,null,null,null),I=y.exports,O=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l(\"a-modal\",{staticStyle:{top:\"20px\"},attrs:{title:\"技能管理\",width:400,afterClose:e.afterClose,destroyOnClose:!0},on:{ok:e.handleSubmit},model:{value:e.visible,callback:function(t){e.visible=t},expression:\"visible\"}},[l(\"a-select\",{staticStyle:{width:\"100%\"},attrs:{mode:\"multiple\",placeholder:\"添加技能\"},on:{change:e.handleChange}},e._l(e.skillList,function(t,s){return l(\"a-select-option\",{key:s,attrs:{disabled:!!t.isDel}},[e._v(e._s(t.title))])}),1)],1)},x=[],L=l(\"2934\"),$={props:[\"skillsId\",\"skillTableRefresh\"],data:function(){return{labelCol:{xs:{span:24},sm:{span:7}},wrapperCol:{xs:{span:24},sm:{span:13}},visible:!1,skillList:[],selectSkills:[]}},methods:{getSkillList:function(){var e=this,t={robotSkillTypeId:\"5\",skillsId:this.skillsId};Object(L[\"b\"])(t,\"/robotSkill/getRobotSkillByTypeList\").then(function(t){return console.log(t.result),e.skillList=t.result,t.result})},add:function(){this.visible=!0,this.getSkillList()},handleChange:function(e){console.log(\"Selected: \".concat(e)),this.selectSkills=e},afterClose:function(){},handleSubmit:function(){var e=this;if(this.selectSkills.length<=0)return e.$message.success(\"未添加技能\"),void(e.visible=!1);var t=JSON.parse(localStorage.getItem(\"user\")).orgId,l=this.selectSkills.map(function(t,l){return e.skillList[t]}),s={user:t,skillsId:this.skillsId,robotSkillList:l};Object(L[\"b\"])(s,\"/skillsOption/saveList\").then(function(t){console.log(t.result),0==t.code?(e.$message.success(\"添加成功\"),e.selectSkills=[],e.visible=!1,e.skillTableRefresh()):e.$message.error(t.message)})}}},_=$,N=Object(b[\"a\"])(_,O,x,!1,null,null,null),T=N.exports,j=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l(\"a-modal\",{staticStyle:{top:\"20px\"},attrs:{title:\"新建\",width:600},on:{ok:e.handleSubmit},model:{value:e.visible,callback:function(t){e.visible=t},expression:\"visible\"}},[l(\"a-form\",{attrs:{form:e.form}},[l(\"a-form-item\",{attrs:{label:\"回答内容\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[l(\"a-textarea\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"contents\",{rules:[{required:!0,message:\"请输入回答内容\"}],initialValue:e.editSkills.contents}],expression:\"[\\n          'contents',\\n          {rules: [{ required: true, message: '请输入回答内容' }],initialValue:editSkills.contents}\\n        ]\"}],attrs:{placeholder:\"回答内容\",rows:2,autosize:\"\"}})],1),l(\"a-form-item\",{attrs:{label:\"网址信息\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[l(\"a-radio-group\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"netType\",{rules:[{required:!0,message:\"请选择网址类型\"}],initialValue:e.editSkills.netType}],expression:\"[\\n          'netType',\\n          {rules: [{ required: true,message: '请选择网址类型' }],initialValue:editSkills.netType}\\n        ]\"}],attrs:{name:\"radioGroup\"}},[l(\"a-radio\",{attrs:{value:1}},[e._v(\"内网\")]),l(\"a-radio\",{attrs:{value:0}},[e._v(\"外网\")])],1),l(\"a-input\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"url\",{rules:[{message:\"请输入网址信息\"}],initialValue:e.editSkills.url}],expression:\"[\\n          'url',\\n          {rules: [{ message: '请输入网址信息' }],initialValue:editSkills.url}\\n        ]\"}],attrs:{placeholder:\"网址信息\"}})],1),222==e.editSkills.htmlType?l(\"a-form-item\",{attrs:{label:\"上传文件\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[l(\"a-upload\",{attrs:{name:\"file\",multiple:!0,action:\"http://192.168.1.180:8080/skillsOption/fileUpload\",fileList:e.editSkills.fileNameList,headers:e.headers,remove:e.handleRemoveFile},on:{change:e.handleChangeFile}},[l(\"a-button\",[l(\"a-icon\",{attrs:{type:\"upload\"}}),e._v(\"点击上传\\n        \")],1)],1)],1):e._e(),l(\"a-form-item\",{attrs:{label:\"命令集\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[l(\"a-button\",{attrs:{type:\"primary\"}},[e._v(\"编辑命令集\")])],1)],1)],1)},F=[],P={data:function(){return{fileList:[],headers:{authorization:\"authorization-text\"},labelCol:{xs:{span:24},sm:{span:7}},wrapperCol:{xs:{span:24},sm:{span:13}},visible:!1,confirmLoading:!1,form:this.$form.createForm(this),url:\"\",editSkills:{entityId:\"\",contents:\"\",user:\"0\",netType:\"\",url:\"\",org:\"1\",fileNameList:[]}}},methods:{handleRemoveFile:function(e){console.log(e)},handleChangeFile:function(e){console.log(e);var t=Object(a[\"a\"])(e.fileList);if(this.editSkills.fileNameList=t,\"uploading\"!==e.file.status){console.log(\"info.file:\",e.file);var l=e.file.response;this.url=l.fileName}\"done\"===e.file.status?this.$message.success(\"\".concat(e.file.name,\" 上传成功\")):\"error\"===e.file.status&&this.$message.error(\"\".concat(e.file.name,\" 上传失败.\"))},show:function(e){var t=this;this.fileList=[],this.visible=!0;var l={entityId:\"62299\"};Object(L[\"b\"])(l,\"/skillsOption/getSkillsOption\").then(function(e){0==e.code?(t.editSkills=e.result,console.log(t.editSkills),t.editSkills.fileNameList=e.resultFile):t.$message.error(e.message)})},handleSubmit:function(){var e=this,t=this.form.validateFields;this.confirmLoading=!0;var l=this;t(function(t,s){if(t)e.confirmLoading=!1;else{console.log(s);var i=l.editSkills;Object(L[\"b\"])(Object(o[\"a\"])({},i,s),\"/skillsOption/updateContents\").then(function(e){0==e.code?l.$message.success(\"新建成功\"):l.$message.error(e.message),l.visible=!1,l.form.resetFields()})}})},handleCancel:function(){this.visible=!1}}},A=P,R=Object(b[\"a\"])(A,j,F,!1,null,null,null),V=R.exports,E=l(\"1862\"),J={name:\"TableList\",components:{STable:c[\"e\"],PageView:r[\"c\"],CreateQues:v,EditQues:I,AllSkills:T,EditSkills:V,CmdList:E[\"a\"]},data:function(){var e,t=this;return e={headers:{authorization:\"authorization-text\"},skillsList:[],isShowList:!0,mapId:\"\",mapList:[],currectSel:0,businessName:\"\",skillName:\"\",contents:\"\",contentsId:0,columnList:[{title:\"业务名称\",dataIndex:\"title\",scopedSlots:{customRender:\"name\"}},{title:\"操作\",dataIndex:\"action\",scopedSlots:{customRender:\"action\"}}],loadData:function(e){var l=JSON.parse(localStorage.getItem(\"user\")).orgId,s={type:1,orgId:l};return Object(L[\"b\"])(Object.assign(e,t.queryParam,s),\"/skills/getSkillsList\").then(function(e){return console.log(e),e.result})},columnSkillList:[{title:\"技能列表\",dataIndex:\"keywords\",scopedSlots:{customRender:\"keywords\"}},{title:\"操作\",dataIndex:\"action\",scopedSlots:{customRender:\"action\"}}],loadSkillOptionData:function(e){JSON.parse(localStorage.getItem(\"user\")).orgId;var l={skillsId:t.currectSel};return Object(L[\"b\"])(Object.assign(e,t.queryParam,l),\"/skillsOption/getSkillsOptionList\").then(function(e){return t.contentsId=e.contentsId,t.contents=e.contents,e.result})},skillsIds:[],selectedRows:[],skillsOptionIds:[],optionAlertShow2:!1,options:{alert:{show:!0,clear:function(){t.skillsIds=[]}},rowSelection:{skillsIds:this.skillsIds,onChange:this.onSelectChange}},options2:{alert:!1,rowSelection:null},optionAlertShow:!1,labelCol:{xs:{span:24},sm:{span:7}},wrapperCol:{xs:{span:24},sm:{span:13}},form:this.$form.createForm(this),formVisible:!1,showCmd:!1,fileList:[],cmd:\"\",cmdList:[]},Object(n[\"a\"])(e,\"cmd\",92),Object(n[\"a\"])(e,\"editSkills\",{id:\"\",contents:\"\",netType:\"\",url:\"\",cmdName:\"\",cmd:\"\",map:\"\",mapName:\"\"}),e},created:function(){this.tableOption(),this.getMap(),this.getCmd()},computed:{title:function(){return this.$route.meta.title}},methods:{choiceCmd:function(){var e=this.form.getFieldsValue();void 0==e.mapId||e.mapId;this.$refs.cmd.show(this.businessName+this.skillName,this.editSkills.map,this.editSkills.cmd)},getCmdId:function(e){console.log(\"-------------this.cmdid\",e),this.cmd=e},getCmd:function(){var e=JSON.parse(localStorage.getItem(\"user\")).orgId,t=this;Object(L[\"b\"])({orgId:e},\"/cmdCollection/getCmdListByOrg\").then(function(e){0==e.code?t.cmdList=e.cmdList:t.$message.error(e.message)})},handleSubmit:function(){this.showCmd=!1},onSelectChange:function(e,t){this.skillsIds=e,this.selectedRows=t},onSelectChange2:function(e,t){this.skillsOptionIds=e,this.selectedRows=t},tableOption:function(){var e=this;this.optionAlertShow?(this.options={alert:!1,rowSelection:null},this.optionAlertShow=!1):(this.options={alert:{show:!0,clear:function(){e.skillsIds=[]}},rowSelection:{skillsIds:this.skillsIds,onChange:this.onSelectChange2,getCheckboxProps:function(e){return{props:{disabled:\"No 2\"===e.no,name:e.no}}}}},this.optionAlertShow=!0)},updateContents:function(){var e=JSON.parse(localStorage.getItem(\"user\")).id,t=JSON.parse(localStorage.getItem(\"user\")).orgId,l=this;Object(L[\"b\"])({id:this.contentsId,contents:this.contents,user:e,org:t},\"/skillsOption/updateContents\").then(function(e){0==e.code?l.$message.success(\"编辑成功\"):l.$message.error(e.message)})},showList:function(e,t){this.businessName=t,this.currectSel=e,this.isShowList=!0,this.$refs.skillTable.refresh(!0)},skillTableRefresh:function(){this.$refs.skillTable.refresh(!0)},handleRefresh:function(){this.$refs.table.refresh()},handleEditVisible:function(e){this.$refs.editQues.add(e)},handleDeleteSkillVisible:function(e){var t=this;this.$confirm({title:\"警告\",content:\"真的要删除吗?\",okText:\"删除\",okType:\"danger\",cancelText:\"取消\",onOk:function(){return new Promise(function(l,s){setTimeout(Math.random()>.5?l:s,300);var i={entityIds:[e.id]};Object(L[\"b\"])(i,\"/skillsOption/delete\").then(function(e){0==e.code?(t.$message.success(\"删除成功\"),t.$refs.skillTable.refresh()):t.$message.error(e.message)})}).catch(function(e){return console.log(e)})},onCancel:function(){console.log(\"Cancel\")}})},deleteSkillsList:function(){var e=this;this.$confirm({title:\"警告\",content:\"真的要删除吗?\",okText:\"删除\",okType:\"danger\",cancelText:\"取消\",onOk:function(){return new Promise(function(t,l){setTimeout(Math.random()>.5?t:l,300);var s={entityIds:e.skillsIds};Object(L[\"b\"])(s,\"/skills/delete\").then(function(t){0==t.code?(e.$message.success(\"删除成功\"),e.$refs.table.refresh(!0)):e.$message.error(t.message)})}).catch(function(e){return console.log(e)})},onCancel:function(){console.log(\"Cancel\")}})},deleteSkillsOptionList:function(){var e=this;this.$confirm({title:\"警告\",content:\"真的要删除吗?\",okText:\"删除\",okType:\"danger\",cancelText:\"取消\",onOk:function(){return console.log(\"OK\"),new Promise(function(t,l){setTimeout(Math.random()>.5?t:l,300);var s={entityIds:e.skillsOptionIds};Object(L[\"b\"])(s,\"/skillsOption/delete\").then(function(t){0==t.code?(e.$message.success(\"删除成功\"),e.$refs.skillTable.refresh(!0)):e.$message.error(t.message)})}).catch(function(e){return console.log(e)})},onCancel:function(){console.log(\"Cancel\")}})},handleEditSkillVisible:function(e){console.log(e),this.skillName=e.keywords,this.formVisible=!0,this.show(e)},handleChangeFile:function(e){var t=Object(a[\"a\"])(e.fileList);this.fileList=t,e.file.status,\"done\"===e.file.status?0==e.file.response.code?this.$message.success(\"\".concat(e.file.name,\" 上传成功\")):(this.fileList.splice(-1,1),this.$message.success(\"\".concat(e.file.response.message))):\"error\"===e.file.status&&this.$message.error(\"\".concat(e.file.name,\" 上传失败.\"))},handleRemoveFile:function(e){var t=this;alert(e.response.fileUrl),Object(L[\"b\"])({fileUrl:e.response.fileUrl},\"/skillsOption/delFile\").then(function(e){return 0==e.code?(console.log(\"-----------------\"),console.log(t.fileList),!0):(t.$message.error(e.message),!1)})},handlePreview:function(e){window.open(e.response.fileUrl)},getMap:function(){var e=this,t=JSON.parse(localStorage.getItem(\"user\")).orgId;Object(L[\"b\"])({orgId:t},\"/robotMapLib/getRobotMapLibList\").then(function(t){console.log(\"-----------getMap\",t),e.mapList=t.result})},show:function(e){var t=this;this.editSkills.fileNameList=[],this.formVisible=!0;var l={entityId:e.id};Object(L[\"b\"])(l,\"/skillsOption/getSkillsOption\").then(function(e){0==e.code?(console.log(\"-------------------------------\"),console.log(e.resultFile),t.editSkills=e.result,t.fileList=e.resultFile):t.$message.error(e.message)})},handleFormSubmit:function(){var e=this.form.validateFields;this.confirmLoading=!0;var t=this;e(function(e,l){if(!e){var s=JSON.parse(localStorage.getItem(\"user\")).id,i=JSON.parse(localStorage.getItem(\"user\")).orgId,a=t.editSkills;a.fileNameList=t.fileList.map(function(e,t){return{fileUrl:e.response.fileUrl,type:e.response.type}}),l.org=i,l.user=s,Object(L[\"b\"])(Object(o[\"a\"])({},a,l),\"/skillsOption/updateContents\").then(function(e){0==e.code?t.$message.success(\"新建成功\"):t.$message.error(e.message)})}})},tableOption2:function(){var e=this;this.optionAlertShow2?(this.options2={alert:!1,rowSelection:null},this.optionAlertShow2=!1):(this.options2={alert:{show:!0,clear:function(){e.skillsOptionIds=[]}},rowSelection:{skillsOptionIds:this.skillsOptionIds,onChange:this.onSelectChange,getCheckboxProps:function(e){return{props:{disabled:\"No 2\"===e.no,name:e.no}}}}},this.optionAlertShow2=!0)}}},D=J,q=Object(b[\"a\"])(D,s,i,!1,null,null,null);t[\"default\"]=q.exports},\"6eb1\":function(e,t,l){},\"75fc\":function(e,t,l){\"use strict\";var s=l(\"a745\"),i=l.n(s);function o(e){if(i()(e)){for(var t=0,l=new Array(e.length);t<e.length;t++)l[t]=e[t];return l}}var a=l(\"774e\"),n=l.n(a),r=l(\"c8bb\"),c=l.n(r);function d(e){if(c()(Object(e))||\"[object Arguments]\"===Object.prototype.toString.call(e))return n()(e)}function u(){throw new TypeError(\"Invalid attempt to spread non-iterable instance\")}function m(e){return o(e)||d(e)||u()}l.d(t,\"a\",function(){return m})},\"774e\":function(e,t,l){e.exports=l(\"d2d5\")},c8bb:function(e,t,l){e.exports=l(\"54a1\")}}]);","extractedComments":[]}