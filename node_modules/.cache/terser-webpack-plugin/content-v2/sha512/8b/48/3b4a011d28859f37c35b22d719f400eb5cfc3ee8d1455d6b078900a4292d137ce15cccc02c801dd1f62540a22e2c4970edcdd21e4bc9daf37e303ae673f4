{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-2625f919\"],{1862:function(e,t,l){\"use strict\";var i=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l(\"a-modal\",{attrs:{width:1200,maskClosable:!1,keyboard:!1},on:{ok:e.handleSubmit},model:{value:e.showIframe,callback:function(t){e.showIframe=t},expression:\"showIframe\"}},[l(\"iframe\",{ref:\"iframe\",staticStyle:{width:\"100%\",height:\"800px\",border:\"none\",\"margin-top\":\"0px\"},attrs:{src:e.cmdSrc}})])},s=[],o=(l(\"2934\"),l(\"2af9\")),a={name:\"TableList\",components:{STable:o[\"e\"]},data:function(){return{confirmLoading:!1,form:this.$form.createForm(this),showIframe:!1,cmdSrc:\"http://localhost:9000/robot.html\"}},methods:{show:function(e,t,l){var i=JSON.parse(localStorage.getItem(\"user\")),s=\"?orgId=\"+i.orgId+\"&createBy=\"+i.id+\"&circulation=1&mapId=\"+t+\"&title=\"+e+\"&cmd=\"+l;this.cmdSrc=this.cmdSrc+encodeURI(s),console.log(this.cmdSrc),this.showIframe=!0},handleSubmit:function(){var e=this.$refs.iframe.contentWindow.document.getElementById(\"cmd\").innerHTML;console.log(this.$refs.iframe.contentWindow.document.getElementById(\"cmd\")),console.log(\"----------确定以后的值，待接收\"+e),0==e?this.$message.error(\"请先点击保存\"):(this.$emit(\"getCmdId\",e),this.showIframe=!1)},filterOption:function(e,t){return t.componentOptions.children[0].text.toLowerCase().indexOf(e.toLowerCase())>=0}}},n=a,r=l(\"2877\"),c=Object(r[\"a\"])(n,i,s,!1,null,null,null);t[\"a\"]=c.exports},2934:function(e,t,l){\"use strict\";l.d(t,\"b\",function(){return s}),l.d(t,\"a\",function(){return o});var i=l(\"b775\");function s(e,t){return console.log(\"请求参数:\",e),Object(i[\"b\"])({url:t,method:\"post\",data:e})}function o(e,t){return console.log(\"新增/编辑 数据\",e),Object(i[\"b\"])({url:t,method:\"post\",data:e})}},\"57bd\":function(e,t,l){\"use strict\";l.r(t);var i=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l(\"a-card\",{attrs:{bordered:!0}},[l(\"a-row\",{attrs:{type:\"flex\"}},[l(\"a-col\",{attrs:{span:6}},[l(\"div\",{staticClass:\"table-operator\"},[l(\"a-button\",{directives:[{name:\"action\",rawName:\"v-action:add\",arg:\"add\"}],attrs:{type:\"primary\",icon:\"plus\"},on:{click:function(t){return e.$refs.createQues.add()}}},[e._v(\"新建业务\")]),e.skillsIds.length>0?l(\"a-dropdown\",[l(\"a-menu\",{attrs:{slot:\"overlay\"},slot:\"overlay\"},[l(\"a-menu-item\",{directives:[{name:\"action\",rawName:\"v-action:delete\",arg:\"delete\"}],key:\"1\",on:{click:function(t){return e.deleteSkillsList()}}},[l(\"a-icon\",{attrs:{type:\"delete\"}}),e._v(\"删除\\n            \")],1)],1),l(\"a-button\",{staticStyle:{\"margin-left\":\"8px\"}},[e._v(\"\\n            批量操作\\n            \"),l(\"a-icon\",{attrs:{type:\"down\"}})],1)],1):e._e()],1),l(\"s-table\",{ref:\"table\",attrs:{bordered:\"\",size:\"default\",rowKey:\"id\",columns:e.columnList,data:e.loadData,alert:e.options.alert,rowSelection:e.options.rowSelection,showPagination:\"auto\"},scopedSlots:e._u([{key:\"name\",fn:function(t,i){return l(\"span\",{},[l(\"a-tooltip\",{attrs:{placement:\"topLeft\",title:i.depict,arrowPointAtCenter:\"\"}},[l(\"div\",{ref:\"titleTxt\",on:{click:function(t){return e.showList(i.id,i.title)}}},[e._v(e._s(t))])])],1)}},{key:\"action\",fn:function(t,i){return l(\"span\",{},[[l(\"a\",{directives:[{name:\"action\",rawName:\"v-action:edit\",arg:\"edit\"}],on:{click:function(t){return e.handleEditVisible(i)}}},[e._v(\"\\n              编辑\\n              \"),l(\"a-icon\",{attrs:{type:\"edit\"}})],1)]],2)}}])}),l(\"a-button\",{staticStyle:{\"margin-left\":\"0px\"},on:{click:e.tableOption}},[e._v(e._s(e.optionAlertShow?\"关闭\":\"开启\")+\" 批量\")])],1),e.isShowList?l(\"a-col\",{staticStyle:{\"margin-left\":\"25px\"},attrs:{span:7}},[l(\"div\",{staticClass:\"table-operator\"},[l(\"a-button\",{attrs:{type:\"primary\",icon:\"plus\"},on:{click:function(t){return e.$refs.allSkills.add()}}},[e._v(\"新建技能\")]),l(\"a\",{staticStyle:{\"font-weight\":\"600\"}},[e._v(e._s(e.businessName)+\">\")]),l(\"span\",[e._v(\"二级菜单\")]),e.skillsOptionIds.length>0?l(\"a-dropdown\",[l(\"a-menu\",{attrs:{slot:\"overlay\"},slot:\"overlay\"},[l(\"a-menu-item\",{directives:[{name:\"action\",rawName:\"v-action:delete\",arg:\"delete\"}],key:\"1\",on:{click:function(t){return e.deleteSkillsOptionList()}}},[l(\"a-icon\",{attrs:{type:\"delete\"}}),e._v(\"删除\\n            \")],1)],1),l(\"a-button\",{staticStyle:{\"margin-left\":\"8px\"}},[e._v(\"\\n            批量操作\\n            \"),l(\"a-icon\",{attrs:{type:\"down\"}})],1)],1):e._e()],1),l(\"s-table\",{ref:\"skillTable\",attrs:{bordered:\"\",size:\"default\",rowKey:\"id\",columns:e.columnSkillList,data:e.loadSkillOptionData,alert:e.options2.alert,rowSelection:e.options2.rowSelection,showPagination:\"auto\"},scopedSlots:e._u([{key:\"keywords\",fn:function(t,i){return l(\"span\",{on:{click:function(t){return e.handleEditSkillVisible(i)}}},[e._v(e._s(t))])}},{key:\"action\",fn:function(t,i){return l(\"span\",{},[[l(\"a\",{directives:[{name:\"action\",rawName:\"v-action:delete\",arg:\"delete\"}],on:{click:function(t){return e.handleDeleteSkillVisible(i)}}},[e._v(\"\\n              删除\\n              \"),l(\"a-icon\",{attrs:{type:\"delete\"}})],1)]],2)}}],null,!1,3759086807)}),l(\"div\",[l(\"a-textarea\",{staticStyle:{\"margin-bottom\":\"0px\",\"margin-top\":\"0px\",width:\"75%\"},attrs:{placeholder:\"请输入默认回答内容\",rows:\"2\"},model:{value:e.contents,callback:function(t){e.contents=t},expression:\"contents\"}}),l(\"a-button\",{staticStyle:{\"margin-left\":\"12px\"},attrs:{type:\"primary\"},on:{click:e.updateContents}},[e._v(\"确定\")])],1),l(\"a-button\",{staticStyle:{\"margin-left\":\"0px\"},on:{click:e.tableOption2}},[e._v(e._s(e.optionAlertShow2?\"关闭\":\"开启\")+\" 批量\")])],1):e._e(),l(\"a-col\",{staticStyle:{\"margin-top\":\"5px\",\"margin-left\":\"20px\"},attrs:{span:7}},[l(\"a\",{staticStyle:{\"font-weight\":\"600\"}},[e._v(e._s(e.businessName)+\">\"+e._s(e.skillName)+\">\")]),l(\"span\",[e._v(\"三级菜单\")]),e.formVisible?l(\"a-form\",{staticStyle:{\"margin-top\":\"20px\"},attrs:{form:e.form}},[l(\"a-form-item\",{attrs:{label:\"回答内容\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[l(\"a-textarea\",{attrs:{placeholder:\"回答内容\",rows:2,autosize:\"\"},model:{value:e.editSkills.contents,callback:function(t){e.$set(e.editSkills,\"contents\",t)},expression:\"editSkills.contents\"}})],1),l(\"a-form-item\",{attrs:{label:\"网址信息\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[l(\"a-radio-group\",{attrs:{name:\"radioGroup\"},model:{value:e.editSkills.netType,callback:function(t){e.$set(e.editSkills,\"netType\",t)},expression:\"editSkills.netType\"}},[l(\"a-radio\",{attrs:{value:0}},[e._v(\"内网\")]),l(\"a-radio\",{attrs:{value:1}},[e._v(\"外网\")])],1),l(\"a-input\",{attrs:{placeholder:\"网址信息\"},model:{value:e.editSkills.url,callback:function(t){e.$set(e.editSkills,\"url\",t)},expression:\"editSkills.url\"}})],1),222==e.editSkills.htmlType?l(\"a-form-item\",{attrs:{label:\"上传文件\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[l(\"a-upload\",{attrs:{name:\"file\",multiple:!0,action:\"http://47.105.129.17:54321/skillsOption/fileUpload\",fileList:e.fileList,headers:e.headers,remove:e.handleRemoveFile},on:{change:e.handleChangeFile,preview:e.handlePreview}},[l(\"a-button\",[l(\"a-icon\",{attrs:{type:\"upload\"}}),e._v(\"点击上传\\n            \")],1)],1)],1):e._e(),l(\"a-form-item\",{attrs:{label:\"地图\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[l(\"a-select\",{attrs:{placeholder:\"如需使用导航请先选择地图\",optionFilterProp:\"children\"},model:{value:e.editSkills.map,callback:function(t){e.$set(e.editSkills,\"map\",t)},expression:\"editSkills.map\"}},e._l(e.mapList,function(t,i){return l(\"a-select-option\",{key:i,attrs:{value:t.id}},[e._v(\"\\n              \"+e._s(t.mapName))])}),1)],1),l(\"a-form-item\",{attrs:{label:\"动作集\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[l(\"a-select\",{attrs:{placeholder:\"选择动作集\",optionFilterProp:\"children\"},model:{value:e.editSkills.cmd,callback:function(t){e.$set(e.editSkills,\"cmd\",t)},expression:\"editSkills.cmd\"}},e._l(e.cmdList,function(t,i){return l(\"a-select-option\",{key:i,attrs:{value:t.id}},[e._v(\"\\n              \"+e._s(t.name)+\"\\n              \")])}),1)],1),l(\"a-form-item\",{staticStyle:{\"text-align\":\"center\"}},[l(\"a-button\",{on:{click:e.updateCmd}},[e._v(\"添加动作集\")]),l(\"a-button\",{staticStyle:{\"margin-left\":\"15px\"},on:{click:e.delCmd}},[e._v(\"清空动作集\")])],1),l(\"a-form-item\",{staticStyle:{\"text-align\":\"center\"}},[l(\"a-button\",{attrs:{type:\"primary\"},on:{click:e.handleFormSubmit}},[e._v(\"保存全部\")])],1)],1):e._e()],1)],1),l(\"create-ques\",{ref:\"createQues\",on:{ok:e.handleRefresh}}),l(\"edit-ques\",{ref:\"editQues\",on:{ok:e.handleRefresh}}),l(\"all-skills\",{ref:\"allSkills\",attrs:{skillsId:e.currectSel,skillTableRefresh:e.skillTableRefresh}}),l(\"a-modal\",{attrs:{title:\"Title\",width:1200,visible:e.showCmd},on:{ok:e.handleSubmit}}),l(\"cmd-list\",{ref:\"cmd\",on:{getCmdId:e.getCmdId}})],1)},s=[],o=l(\"cebc\"),a=(l(\"7f7f\"),l(\"75fc\")),n=l(\"680a\"),r=l(\"2af9\"),c=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l(\"a-modal\",{staticStyle:{top:\"200px\"},attrs:{title:\"新建\",width:600},on:{ok:e.handleSubmit},model:{value:e.visible,callback:function(t){e.visible=t},expression:\"visible\"}},[l(\"a-form\",{attrs:{form:e.form}},[l(\"a-form-item\",{attrs:{label:\"名称\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[l(\"a-input\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"title\",{rules:[{required:!0,message:\"请输入名称\"}]}],expression:\"[\\n          'title',\\n          {rules: [{ required: true, message: '请输入名称' }]}\\n        ]\"}],attrs:{placeholder:\"名称\"}})],1),l(\"a-form-item\",{attrs:{label:\"别名\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[l(\"a-input\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"depict\",{rules:[{message:\"请输入别名\"}]}],expression:\"[\\n          'depict',\\n          {rules: [{ message: '请输入别名' }]}\\n        ]\"}],attrs:{placeholder:\"别名\"}})],1)],1)],1)},d=[],u=l(\"b775\");function m(e){return console.log(e),Object(u[\"b\"])({url:\"/skills/save\",method:\"POST\",data:e})}var p={data:function(){return{labelCol:{xs:{span:24},sm:{span:7}},wrapperCol:{xs:{span:24},sm:{span:13}},visible:!1,confirmLoading:!1,form:this.$form.createForm(this),isPub:!1}},methods:{onChange:function(e){console.log(\"check:\",e)},add:function(){this.visible=!0},handleSubmit:function(){var e=this,t=this.form.validateFields;this.confirmLoading=!0,t(function(t,l){if(t)e.confirmLoading=!1;else{console.log(\"values\",l);var i=e;setTimeout(function(){var e=void 0==l.isPub||0==l.isPub?0:1;l.isPub=e;var t=JSON.parse(localStorage.getItem(\"user\")),s=[t.orgId,t.id,1],o=s[0],a=s[1],n=s[2],r=Object.assign(l,{orgId:o,user:a,descn:n});m(r).then(function(e){0==e.code?i.$message.success(\"新建成功\"):i.$message.error(e.message),i.visible=!1,i.confirmLoading=!1,i.$emit(\"ok\",l),i.form.resetFields()})},300)}})},handleCancel:function(){this.visible=!1}}},f=p,h=l(\"2877\"),b=Object(h[\"a\"])(f,c,d,!1,null,null,null),g=b.exports,v=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l(\"a-modal\",{staticStyle:{top:\"20px\"},attrs:{title:\"编辑\",width:600},on:{ok:e.handleSubmit},model:{value:e.visible,callback:function(t){e.visible=t},expression:\"visible\"}},[l(\"a-form\",{attrs:{form:e.form}},[l(\"a-form-item\",{attrs:{label:\"名称\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[l(\"a-input\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"title\",{rules:[{required:!0,message:\"请输入名称\"}],initialValue:e.editData.title}],expression:\"[\\n          'title',\\n          {rules: [{ required: true, message: '请输入名称' }],\\n          initialValue:editData.title}\\n        ]\"}],attrs:{placeholder:\"名称\"}})],1),l(\"a-form-item\",{attrs:{label:\"别名\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[l(\"a-input\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"depict\",{rules:[{message:\"请输入别名\"}],initialValue:e.editData.depict}],expression:\"[\\n          'depict',\\n          {rules: [{ message: '请输入别名' }],\\n          initialValue:editData.depict}\\n        ]\"}],attrs:{placeholder:\"别名\"}})],1),l(\"a-form-item\",{attrs:{label:\"是否启用\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[l(\"a-switch\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"isAble\"],expression:\"[\\n          'isAble'\\n        ]\"}],attrs:{checkedChildren:\"是\",unCheckedChildren:\"否\"},model:{value:e.isAble,callback:function(t){e.isAble=t},expression:\"isAble\"}})],1)],1)],1)},k=[],S={data:function(){return{labelCol:{xs:{span:24},sm:{span:7}},wrapperCol:{xs:{span:24},sm:{span:13}},visible:!1,confirmLoading:!1,form:this.$form.createForm(this),isAble:!1,editData:[],entityId:\"\"}},methods:{onChange:function(e){console.log(\"check:\",e)},add:function(e){this.visible=!0,this.editData=e,this.isAble=1==e.isAble,this.entityId=e.id},handleSubmit:function(){var e=this,t=this.form.validateFields;this.confirmLoading=!0,t(function(t,l){if(t)e.confirmLoading=!1;else{var i=e;setTimeout(function(){var t=void 0==l.isAble||0==l.isAble?0:1;l.isAble=t;var s=JSON.parse(localStorage.getItem(\"user\")),o=[s.orgId,s.id,1],a=o[0],n=o[1],r=o[2],c=Object.assign(l,{orgId:a,user:n,type:r},{entityId:e.entityId});m(c).then(function(e){console.log(e),0==e.code?i.$message.success(\"编辑成功\"):i.$message.error(e.message),i.visible=!1,i.confirmLoading=!1,i.$emit(\"ok\",l),i.entityId=\"\",i.form.resetFields()})},300)}})},handleCancel:function(){this.visible=!1}}},w=S,C=Object(h[\"a\"])(w,v,k,!1,null,null,null),y=C.exports,I=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l(\"a-modal\",{staticStyle:{top:\"20px\"},attrs:{title:\"技能管理\",width:400,afterClose:e.afterClose,destroyOnClose:!0},on:{ok:e.handleSubmit},model:{value:e.visible,callback:function(t){e.visible=t},expression:\"visible\"}},[l(\"a-select\",{staticStyle:{width:\"100%\"},attrs:{mode:\"multiple\",placeholder:\"添加技能\"},on:{change:e.handleChange}},e._l(e.skillList,function(t,i){return l(\"a-select-option\",{key:i,attrs:{disabled:!!t.isDel}},[e._v(e._s(t.title))])}),1)],1)},O=[],x=l(\"2934\"),L={props:[\"skillsId\",\"skillTableRefresh\"],data:function(){return{labelCol:{xs:{span:24},sm:{span:7}},wrapperCol:{xs:{span:24},sm:{span:13}},visible:!1,skillList:[],selectSkills:[]}},methods:{getSkillList:function(){var e=this,t={robotSkillTypeId:\"5\",skillsId:this.skillsId};Object(x[\"b\"])(t,\"/robotSkill/getRobotSkillByTypeList\").then(function(t){return console.log(t.result),e.skillList=t.result,t.result})},add:function(){this.visible=!0,this.getSkillList()},handleChange:function(e){console.log(\"Selected: \".concat(e)),this.selectSkills=e},afterClose:function(){},handleSubmit:function(){var e=this;if(this.selectSkills.length<=0)return e.$message.success(\"未添加技能\"),void(e.visible=!1);var t=JSON.parse(localStorage.getItem(\"user\")).orgId,l=this.selectSkills.map(function(t,l){return e.skillList[t]}),i={user:t,skillsId:this.skillsId,robotSkillList:l};Object(x[\"b\"])(i,\"/skillsOption/saveList\").then(function(t){console.log(t.result),0==t.code?(e.$message.success(\"添加成功\"),e.selectSkills=[],e.visible=!1,e.skillTableRefresh()):e.$message.error(t.message)})}}},$=L,_=Object(h[\"a\"])($,I,O,!1,null,null,null),N=_.exports,T=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l(\"a-modal\",{staticStyle:{top:\"20px\"},attrs:{title:\"新建\",width:600},on:{ok:e.handleSubmit},model:{value:e.visible,callback:function(t){e.visible=t},expression:\"visible\"}},[l(\"a-form\",{attrs:{form:e.form}},[l(\"a-form-item\",{attrs:{label:\"回答内容\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[l(\"a-textarea\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"contents\",{rules:[{required:!0,message:\"请输入回答内容\"}],initialValue:e.editSkills.contents}],expression:\"[\\n          'contents',\\n          {rules: [{ required: true, message: '请输入回答内容' }],initialValue:editSkills.contents}\\n        ]\"}],attrs:{placeholder:\"回答内容\",rows:2,autosize:\"\"}})],1),l(\"a-form-item\",{attrs:{label:\"网址信息\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[l(\"a-radio-group\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"netType\",{rules:[{required:!0,message:\"请选择网址类型\"}],initialValue:e.editSkills.netType}],expression:\"[\\n          'netType',\\n          {rules: [{ required: true,message: '请选择网址类型' }],initialValue:editSkills.netType}\\n        ]\"}],attrs:{name:\"radioGroup\"}},[l(\"a-radio\",{attrs:{value:1}},[e._v(\"内网\")]),l(\"a-radio\",{attrs:{value:0}},[e._v(\"外网\")])],1),l(\"a-input\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"url\",{rules:[{message:\"请输入网址信息\"}],initialValue:e.editSkills.url}],expression:\"[\\n          'url',\\n          {rules: [{ message: '请输入网址信息' }],initialValue:editSkills.url}\\n        ]\"}],attrs:{placeholder:\"网址信息\"}})],1),222==e.editSkills.htmlType?l(\"a-form-item\",{attrs:{label:\"上传文件\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[l(\"a-upload\",{attrs:{name:\"file\",multiple:!0,action:\"http://47.105.129.17:54321/skillsOption/fileUpload\",fileList:e.editSkills.fileNameList,headers:e.headers,remove:e.handleRemoveFile},on:{change:e.handleChangeFile}},[l(\"a-button\",[l(\"a-icon\",{attrs:{type:\"upload\"}}),e._v(\"点击上传\\n        \")],1)],1)],1):e._e(),l(\"a-form-item\",{attrs:{label:\"命令集\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[l(\"a-button\",{attrs:{type:\"primary\"}},[e._v(\"编辑命令集\")])],1)],1)],1)},j=[],F={data:function(){return{fileList:[],headers:{authorization:\"authorization-text\"},labelCol:{xs:{span:24},sm:{span:7}},wrapperCol:{xs:{span:24},sm:{span:13}},visible:!1,confirmLoading:!1,form:this.$form.createForm(this),url:\"\",editSkills:{entityId:\"\",contents:\"\",user:\"0\",netType:\"\",url:\"\",org:\"1\",fileNameList:[]}}},methods:{handleRemoveFile:function(e){console.log(e)},handleChangeFile:function(e){console.log(e);var t=Object(a[\"a\"])(e.fileList);if(this.editSkills.fileNameList=t,\"uploading\"!==e.file.status){console.log(\"info.file:\",e.file);var l=e.file.response;this.url=l.fileName}\"done\"===e.file.status?this.$message.success(\"\".concat(e.file.name,\" 上传成功\")):\"error\"===e.file.status&&this.$message.error(\"\".concat(e.file.name,\" 上传失败.\"))},show:function(e){var t=this;this.fileList=[],this.visible=!0;var l={entityId:\"62299\"};Object(x[\"b\"])(l,\"/skillsOption/getSkillsOption\").then(function(e){0==e.code?(t.editSkills=e.result,console.log(t.editSkills),t.editSkills.fileNameList=e.resultFile):t.$message.error(e.message)})},handleSubmit:function(){var e=this,t=this.form.validateFields;this.confirmLoading=!0;var l=this;t(function(t,i){if(t)e.confirmLoading=!1;else{console.log(i);var s=l.editSkills;Object(x[\"b\"])(Object(o[\"a\"])({},s,i),\"/skillsOption/updateContents\").then(function(e){0==e.code?l.$message.success(\"新建成功\"):l.$message.error(e.message),l.visible=!1,l.form.resetFields()})}})},handleCancel:function(){this.visible=!1}}},A=F,R=Object(h[\"a\"])(A,T,j,!1,null,null,null),V=R.exports,P=l(\"1862\"),E={name:\"TableList\",components:{STable:r[\"e\"],PageView:n[\"c\"],CreateQues:g,EditQues:y,AllSkills:N,EditSkills:V,CmdList:P[\"a\"]},data:function(){var e=this;return{headers:{authorization:\"authorization-text\"},skillsList:[],isShowList:!0,mapId:\"\",mapList:[],currectSel:0,businessName:\"\",skillName:\"\",contents:\"\",contentsId:0,columnList:[{title:\"业务名称\",dataIndex:\"title\",scopedSlots:{customRender:\"name\"}},{title:\"操作\",dataIndex:\"action\",scopedSlots:{customRender:\"action\"}}],loadData:function(t){var l=JSON.parse(localStorage.getItem(\"user\")).orgId,i={type:1,orgId:l};return Object(x[\"b\"])(Object.assign(t,e.queryParam,i),\"/skills/getSkillsList\").then(function(e){return console.log(e),e.result})},columnSkillList:[{title:\"技能列表\",dataIndex:\"keywords\",scopedSlots:{customRender:\"keywords\"}},{title:\"操作\",dataIndex:\"action\",scopedSlots:{customRender:\"action\"}}],loadSkillOptionData:function(t){e.formVisible=!1;JSON.parse(localStorage.getItem(\"user\")).orgId;var l={skillsId:e.currectSel};return Object(x[\"b\"])(Object.assign(t,e.queryParam,l),\"/skillsOption/getSkillsOptionList\").then(function(t){return e.contentsId=t.contentsId,e.contents=t.contents,t.result})},skillsIds:[],selectedRows:[],optionAlertShow:!1,skillsOptionIds:[],optionAlertShow2:!1,options:{alert:!1,rowSelection:null},options2:{alert:!1,rowSelection:null},labelCol:{xs:{span:35},sm:{span:10}},wrapperCol:{xs:{span:35},sm:{span:10}},form:this.$form.createForm(this),formVisible:!1,showCmd:!1,fileList:[],cmdList:[],editSkills:{id:\"\",contents:\"\",netType:\"\",url:\"\",cmdName:\"\",cmd:\"\",map:\"\",mapName:\"\"}}},created:function(){this.getMap(),this.getCmd()},computed:{title:function(){return this.$route.meta.title}},methods:{updateCmd:function(){var e=void 0==this.editSkills.map?0:this.editSkills.map;console.log(\"编辑动作集\"+e+\"/\"+cmd+\"/\"+this.businessName+\"/\"+this.skillName),this.$refs.cmd.show(this.businessName+this.skillName,e,0)},delCmd:function(){var e=this;Object(x[\"b\"])({entityId:this.editSkills.id},\"/skillsOption/deleteCmd\").then(function(t){0==t.code?(e.$message.success(\"删除成功\"),e.editSkills.map=\"\",e.editSkills.cmd=\"\"):e.$message.error(t.message)})},getCmdId:function(e){this.getCmd(),console.log(\"-------渲染以后的值\",e),this.editSkills.cmd=parseInt(e)},getCmd:function(){var e=JSON.parse(localStorage.getItem(\"user\")).orgId,t=this;Object(x[\"b\"])({orgId:e},\"/cmdCollection/getCmdListByOrg\").then(function(e){0==e.code?t.cmdList=e.cmdList:t.$message.error(e.message)})},handleSubmit:function(){this.showCmd=!1},onSelectChange:function(e,t){this.skillsIds=e,this.selectedRows=t},onSelectChange2:function(e){this.skillsOptionIds=e},tableOption:function(){var e=this;this.optionAlertShow?(this.options={alert:!1,rowSelection:null},this.optionAlertShow=!1):(this.options={alert:{show:!0,clear:function(){e.skillsIds=[]}},rowSelection:{skillsIds:this.skillsIds,onChange:this.onSelectChange,getCheckboxProps:function(e){return{props:{disabled:\"No 2\"===e.no,name:e.no}}}}},this.optionAlertShow=!0)},tableOption2:function(){var e=this;this.optionAlertShow2?(this.options2={alert:!1,rowSelection:null},this.optionAlertShow2=!1):(this.options2={alert:{show:!0,clear:function(){e.skillsOptionIds=[]}},rowSelection:{skillsOptionIds:this.skillsOptionIds,onChange:this.onSelectChange2,getCheckboxProps:function(e){return{props:{disabled:\"No 2\"===e.no,name:e.no}}}}},this.optionAlertShow2=!0)},updateContents:function(){var e=JSON.parse(localStorage.getItem(\"user\")).id,t=JSON.parse(localStorage.getItem(\"user\")).orgId,l=this;Object(x[\"b\"])({id:this.contentsId,contents:this.contents,user:e,org:t},\"/skillsOption/updateContents\").then(function(e){0==e.code?l.$message.success(\"编辑成功\"):l.$message.error(e.message)})},showList:function(e,t){this.businessName=t,this.currectSel=e,this.isShowList=!0,this.$refs.skillTable.refresh(!0)},skillTableRefresh:function(){this.$refs.skillTable.refresh(!0)},handleRefresh:function(){this.$refs.table.refresh()},handleEditVisible:function(e){this.$refs.editQues.add(e)},deleteSkillsList:function(){var e=this;this.$confirm({title:\"警告\",content:\"真的要删除吗?\",okText:\"删除\",okType:\"danger\",cancelText:\"取消\",onOk:function(){return new Promise(function(t,l){setTimeout(Math.random()>.5?t:l,300);var i={entityIds:e.skillsIds};Object(x[\"b\"])(i,\"/skills/delete\").then(function(t){0==t.code?(e.$message.success(\"删除成功\"),e.$refs.table.refresh(!0),e.currectSel=0,e.$refs.skillTable.refresh()):e.$message.error(t.message)})}).catch(function(e){return console.log(e)})},onCancel:function(){console.log(\"Cancel\")}})},deleteSkillsOptionList:function(){var e=this;this.$confirm({title:\"警告\",content:\"真的要删除吗?\",okText:\"删除\",okType:\"danger\",cancelText:\"取消\",onOk:function(){return console.log(\"OK\"),new Promise(function(t,l){setTimeout(Math.random()>.5?t:l,300);var i={entityIds:e.skillsOptionIds};Object(x[\"b\"])(i,\"/skillsOption/delete\").then(function(t){0==t.code?(e.$message.success(\"删除成功\"),e.$refs.skillTable.refresh(!0)):e.$message.error(t.message)})}).catch(function(e){return console.log(e)})},onCancel:function(){console.log(\"Cancel\")}})},handleEditSkillVisible:function(e){console.log(e),this.skillName=e.keywords,this.show(e)},handleChangeFile:function(e){var t=Object(a[\"a\"])(e.fileList);this.fileList=t,e.file.status,\"done\"===e.file.status?0==e.file.response.code?this.$message.success(\"\".concat(e.file.name,\" 上传成功\")):(this.fileList.splice(-1,1),this.$message.success(\"\".concat(e.file.response.message))):\"error\"===e.file.status&&this.$message.error(\"\".concat(e.file.name,\" 上传失败.\"))},handleRemoveFile:function(e){var t=this;alert(e.response.fileUrl),Object(x[\"b\"])({fileUrl:e.response.fileUrl},\"/skillsOption/delFile\").then(function(e){return 0==e.code?(console.log(\"-----------------\"),console.log(t.fileList),!0):(t.$message.error(e.message),!1)})},handlePreview:function(e){window.open(e.response.fileUrl)},getMap:function(){var e=this,t=JSON.parse(localStorage.getItem(\"user\")).orgId;Object(x[\"b\"])({orgId:t},\"/robotMapLib/getRobotMapLibList\").then(function(t){console.log(\"-----------getMap\",t),e.mapList=t.result})},show:function(e){var t=this;this.editSkills.fileNameList=[],this.formVisible=!0;var l={entityId:e.id};Object(x[\"b\"])(l,\"/skillsOption/getSkillsOption\").then(function(e){0==e.code?(t.editSkills=e.result,t.fileList=e.resultFile):t.$message.error(e.message)})},handleFormSubmit:function(){var e=this.form.validateFields;this.confirmLoading=!0;var t=this;e(function(e,l){if(!e){var i=JSON.parse(localStorage.getItem(\"user\")).id,s=JSON.parse(localStorage.getItem(\"user\")).orgId,a=t.editSkills;a.fileNameList=t.fileList.map(function(e,t){return{fileUrl:e.response.fileUrl,type:e.response.type}}),l.org=s,l.user=i,Object(x[\"b\"])(Object(o[\"a\"])({},a,l),\"/skillsOption/updateContents\").then(function(e){0==e.code?t.$message.success(\"编辑成功\"):t.$message.error(e.message)})}})}}},J=E,q=Object(h[\"a\"])(J,i,s,!1,null,null,null);t[\"default\"]=q.exports},\"75fc\":function(e,t,l){\"use strict\";var i=l(\"a745\"),s=l.n(i);function o(e){if(s()(e)){for(var t=0,l=new Array(e.length);t<e.length;t++)l[t]=e[t];return l}}var a=l(\"774e\"),n=l.n(a),r=l(\"c8bb\"),c=l.n(r);function d(e){if(c()(Object(e))||\"[object Arguments]\"===Object.prototype.toString.call(e))return n()(e)}function u(){throw new TypeError(\"Invalid attempt to spread non-iterable instance\")}function m(e){return o(e)||d(e)||u()}l.d(t,\"a\",function(){return m})},\"774e\":function(e,t,l){e.exports=l(\"d2d5\")},c8bb:function(e,t,l){e.exports=l(\"54a1\")}}]);","extractedComments":[]}