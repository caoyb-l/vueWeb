{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-2d99efa7\"],{1489:function(e,a,t){\"use strict\";var r=t(\"a58a\"),n=t.n(r);n.a},\"85db\":function(e,a,t){\"use strict\";t.r(a);var r=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t(\"a-card\",{attrs:{bordered:!1}},[t(\"div\",{staticClass:\"table-page-search-wrapper\"},[t(\"a-form\",{attrs:{layout:\"inline\"}},[t(\"a-row\",{attrs:{gutter:48}},[t(\"a-col\",{attrs:{md:6,sm:24}},[t(\"a-form-item\",{attrs:{label:\"触发条件\"}},[t(\"a-input\",{model:{value:e.queryParam.name,callback:function(a){e.$set(e.queryParam,\"name\",a)},expression:\"queryParam.name\"}})],1)],1),t(\"a-col\",{attrs:{md:6,sm:24}},[t(\"a-form-item\",{attrs:{label:\"指令编码\"}},[t(\"a-input\",{model:{value:e.queryParam.code,callback:function(a){e.$set(e.queryParam,\"code\",a)},expression:\"queryParam.code\"}})],1)],1),t(\"a-col\",{attrs:{md:e.advanced?24:8,sm:24}},[t(\"a-button\",{attrs:{type:\"primary\"},on:{click:function(a){return e.searchData()}}},[e._v(\"查询\")]),t(\"a-button\",{staticStyle:{\"margin-left\":\"10px\"},on:{click:function(a){return e.resetQuery()}}},[e._v(\"重置\")]),t(\"a-button\",{staticStyle:{\"margin-left\":\"10px\"},attrs:{type:\"primary\",icon:\"plus\"},on:{click:function(a){return e.$refs.createModal.add()}}},[e._v(\"新建\")])],1)],1)],1)],1),t(\"s-table\",{ref:\"table\",attrs:{size:\"middle\",rowKey:\"id\",columns:e.columns,data:e.loadData,showPagination:\"auto\"},scopedSlots:e._u([{key:\"serial\",fn:function(a,r,n){return t(\"span\",{},[e._v(e._s(n+1))])}},{key:\"action\",fn:function(a,r){return t(\"span\",{},[[t(\"a\",{directives:[{name:\"action\",rawName:\"v-action:edit\",arg:\"edit\"}],on:{click:function(a){return e.handleEditVisible(r)}}},[e._v(\"编辑\")]),t(\"a-divider\",{attrs:{type:\"vertical\"}}),t(\"a\",{directives:[{name:\"action\",rawName:\"v-action:delete\",arg:\"delete\"}],on:{click:function(a){return e.handleDelete(r)}}},[e._v(\"删除\")])]],2)}}])}),t(\"create-model\",{ref:\"createModal\",on:{ok:e.handleRefresh}}),t(\"edit-model\",{ref:\"editModal\",on:{ok:e.handleRefresh}})],1)},n=[],i=t(\"2af9\"),o=t(\"680a\"),s=t(\"2934\"),l=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t(\"a-modal\",{directives:[{name:\"preventReClick\",rawName:\"v-preventReClick\"}],staticStyle:{top:\"20px\"},attrs:{title:\"新建\",width:600,destroyOnClose:!0,maskClosable:!1},on:{ok:e.handleSubmit},model:{value:e.visible,callback:function(a){e.visible=a},expression:\"visible\"}},[t(\"a-form\",{attrs:{form:e.form}},[t(\"a-form-item\",{attrs:{label:\"触发条件\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t(\"a-input\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"name\",{rules:[{required:!0,message:\"请输入触发条件\"}]}],expression:\"[\\n          'name',\\n          {rules: [{ required: true, message: '请输入触发条件' }]}\\n        ]\"}],attrs:{placeholder:\"触发条件\"}})],1),t(\"a-form-item\",{attrs:{label:\"指令编码\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t(\"a-input\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"code\",{rules:[{required:!0,message:\"请输入指令编码\"}]}],expression:\"[\\n          'code',\\n          {rules: [{ required: true, message: '请输入指令编码' }]}\\n        ]\"}],attrs:{placeholder:\"指令编码\"}})],1)],1)],1)},c=[],d={name:\"createSuperCmd\",data:function(){return{labelCol:{xs:{span:24},sm:{span:7}},wrapperCol:{xs:{span:24},sm:{span:13}},visible:!1,confirmLoading:!1,form:this.$form.createForm(this)}},methods:{add:function(){this.visible=!0},handleSubmit:function(){var e=this,a=this.form.validateFields;this.confirmLoading=!0,a(function(a,t){if(a)e.confirmLoading=!1;else{var r=e;setTimeout(function(){Object(s[\"a\"])(t,\"/supercmdTrigger/save\").then(function(e){console.log(e),0==e.code?r.$message.success(\"新建成功\"):r.$message.error(e.message),r.visible=!1,r.confirmLoading=!1,r.$emit(\"ok\",t),r.form.resetFields()})},300)}})},handleCancel:function(){this.visible=!1}}},u=d,m=t(\"2877\"),f=Object(m[\"a\"])(u,l,c,!1,null,null,null),p=f.exports,b=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t(\"a-modal\",{directives:[{name:\"preventReClick\",rawName:\"v-preventReClick\"}],staticStyle:{top:\"20px\"},attrs:{title:\"编辑\",width:600,destroyOnClose:!0,maskClosable:!1},on:{ok:e.handleSubmit},model:{value:e.visible,callback:function(a){e.visible=a},expression:\"visible\"}},[t(\"a-form\",{attrs:{form:e.form}},[t(\"a-form-item\",{attrs:{label:\"触发条件\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t(\"a-input\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"name\",{rules:[{required:!0,message:\"请输入触发条件\"}],initialValue:e.editData.triggerName}],expression:\"[\\n          'name',\\n          {rules: [{ required: true, message: '请输入触发条件' }],\\n          initialValue: editData.triggerName,}\\n        ]\"}],attrs:{placeholder:\"触发条件\"}})],1),t(\"a-form-item\",{attrs:{label:\"指令编码\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t(\"a-input\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"code\",{rules:[{required:!0,message:\"请输入指令编码\"}],initialValue:e.editData.code}],expression:\"[\\n          'code',\\n          {rules: [{ required: true, message: '请输入指令编码' }],\\n          initialValue: editData.code,}\\n        ]\"}],attrs:{placeholder:\"指令编码\"}})],1)],1)],1)},v=[],h={data:function(){return{labelCol:{xs:{span:24},sm:{span:7}},wrapperCol:{xs:{span:24},sm:{span:13}},visible:!1,confirmLoading:!1,form:this.$form.createForm(this),editData:{}}},methods:{add:function(e){console.log(e),this.visible=!0,this.editData=e},handleSubmit:function(){var e=this,a=this.form.validateFields;this.confirmLoading=!0,a(function(a,t){if(a)e.confirmLoading=!1;else{var r=e;setTimeout(function(){var a=Object.assign(t,{entityId:e.editData.id});Object(s[\"a\"])(a,\"/supercmdTrigger/save\").then(function(e){0==e.code?r.$message.success(\"编辑成功\"):r.$message.error(e.message),r.visible=!1,r.confirmLoading=!1,r.$emit(\"ok\",t),r.form.resetFields()})},300)}})},handleCancel:function(){this.visible=!1}}},g=h,C=Object(m[\"a\"])(g,b,v,!1,null,null,null),w=C.exports,k={name:\"TableList\",components:{STable:i[\"f\"],PageView:o[\"c\"],CreateModel:p,EditModel:w},data:function(){var e=this;return{advanced:!1,queryParam:{wakekey:\"\",unitName:\"\"},cmdTypeList:[],columns:[{title:\"#\",dataIndex:\"no\",scopedSlots:{customRender:\"serial\"}},{title:\"触发条件\",dataIndex:\"triggerName\",scopedSlots:{customRender:\"triggerName\"}},{title:\"指令编码\",dataIndex:\"code\",scopedSlots:{customRender:\"code\"}},{title:\"操作\",dataIndex:\"action\",scopedSlots:{customRender:\"action\"}}],loadData:function(a){return Object(s[\"b\"])(Object.assign(a,e.queryParam),\"/supercmdTrigger/list\").then(function(e){return console.log(e),e.result})}}},computed:{title:function(){return this.$route.meta.title}},methods:{handleRefresh:function(){this.$refs.table.refresh(!0)},resetQuery:function(){this.queryParam={},this.$refs.table.refresh(!0)},handleEditVisible:function(e){this.$refs.editModal.add(e)},searchData:function(){this.$refs.table.refresh(!0)},handleDelete:function(e){var a=this;this.$confirm({title:\"警告\",content:\"真的要删除 \".concat(e.triggerName,\" 吗?\"),okText:\"删除\",okType:\"danger\",cancelText:\"取消\",onOk:function(){return console.log(\"OK\"),new Promise(function(t,r){setTimeout(Math.random()>.5?t:r,200);var n={entityId:e.id};Object(s[\"b\"])(n,\"/supercmdTrigger/delete\").then(function(e){0==e.code?(a.$message.success(\"删除成功\"),a.$refs.table.refresh(!0)):a.$message.error(e.message)})}).catch(function(){return console.log(\"Oops errors!\")})},onCancel:function(){console.log(\"Cancel\")}})}}},y=k,x=(t(\"1489\"),Object(m[\"a\"])(y,r,n,!1,null,\"0b4d2218\",null));a[\"default\"]=x.exports},a58a:function(e,a,t){}}]);","extractedComments":[]}