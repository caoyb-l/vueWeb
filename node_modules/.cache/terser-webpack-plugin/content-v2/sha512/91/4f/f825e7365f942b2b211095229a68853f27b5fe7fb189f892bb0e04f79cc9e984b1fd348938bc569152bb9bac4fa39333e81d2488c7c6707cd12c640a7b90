{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-f71e8f52\"],{\"2b89d\":function(e,t,a){},\"3e8f\":function(e,t){},\"75fc\":function(e,t,a){\"use strict\";var i=a(\"a745\"),l=a.n(i);function o(e){if(l()(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}var s=a(\"774e\"),r=a.n(s),n=a(\"c8bb\"),c=a.n(n);function d(e){if(c()(Object(e))||\"[object Arguments]\"===Object.prototype.toString.call(e))return r()(e)}function p(){throw new TypeError(\"Invalid attempt to spread non-iterable instance\")}function m(e){return o(e)||d(e)||p()}a.d(t,\"a\",function(){return m})},\"774e\":function(e,t,a){e.exports=a(\"d2d5\")},\"91b6\":function(e,t,a){\"use strict\";a.d(t,\"a\",function(){return i});var i=\"http://localhost:54321/\"},c8bb:function(e,t,a){e.exports=a(\"54a1\")},fc83:function(e,t,a){\"use strict\";var i=a(\"2b89d\"),l=a.n(i);l.a},fcff:function(e,t,a){\"use strict\";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"a-card\",{attrs:{bordered:!1}},[a(\"div\",{staticClass:\"table-page-search-wrapper\"},[a(\"a-form\",{attrs:{layout:\"inline\"}},[a(\"a-row\",{attrs:{gutter:24}},[a(\"a-col\",{attrs:{md:5,sm:24}},[a(\"a-form-item\",{attrs:{label:\"机器人编码\"}},[a(\"a-input\",{model:{value:e.queryParam.code,callback:function(t){e.$set(e.queryParam,\"code\",t)},expression:\"queryParam.code\"}})],1)],1),a(\"a-col\",{attrs:{md:5,sm:24}},[a(\"a-form-item\",{attrs:{label:\"显示类型\"}},[a(\"a-select\",{attrs:{showSearch:\"\",placeholder:\"选择触发指令\",optionFilterProp:\"children\",filterOption:e.filterOption},model:{value:e.queryParam.type,callback:function(t){e.$set(e.queryParam,\"type\",t)},expression:\"queryParam.type\"}},e._l(e.appImageList,function(t){return a(\"a-select-option\",{key:t.typeId,attrs:{value:t.typeId}},[e._v(e._s(t.type))])}),1)],1)],1),a(\"a-col\",{attrs:{md:13,sm:24}},[a(\"a-button\",{attrs:{type:\"primary\"},on:{click:function(t){return e.handleRefresh()}}},[e._v(\"查询\")]),a(\"a-button\",{staticStyle:{\"margin-left\":\"10px\"},on:{click:function(t){return e.resetQuery()}}},[e._v(\"重置\")]),a(\"a-button\",{staticStyle:{\"margin-left\":\"10px\"},attrs:{type:\"primary\",icon:\"plus\"},on:{click:function(t){return e.$refs.createImage.add()}}},[e._v(\"新建\")]),a(\"a-button\",{staticStyle:{\"margin-left\":\"10px\"},attrs:{type:\"dashed\"},on:{click:e.tableOption}},[e._v(e._s(e.optionAlertShow?\"关闭\":\"开启\")+\" alert\")]),e.selectedRowKeys.length>0?a(\"a-dropdown\",{staticStyle:{\"margin-left\":\"10px\"}},[a(\"a-menu\",{attrs:{slot:\"overlay\"},slot:\"overlay\"},[a(\"a-menu-item\",{directives:[{name:\"action\",rawName:\"v-action:delete\",arg:\"delete\"}],key:\"1\",on:{click:function(t){return e.handleDeletes()}}},[a(\"a-icon\",{attrs:{type:\"delete\"}}),e._v(\"删除\")],1)],1),a(\"a-button\",{staticStyle:{\"margin-left\":\"8px\"}},[e._v(\"批量操作\"),a(\"a-icon\",{attrs:{type:\"down\"}})],1)],1):e._e()],1)],1)],1)],1),a(\"s-table\",{ref:\"table\",attrs:{size:\"middle\",rowKey:\"id\",columns:e.columns,data:e.loadData,alert:e.options.alert,rowSelection:e.options.rowSelection,showPagination:\"auto\"},scopedSlots:e._u([{key:\"fileName\",fn:function(t){return a(\"span\",{},[a(\"ellipsis\",{attrs:{length:10,tooltip:\"\"}},[e._v(e._s(t))])],1)}},{key:\"descn\",fn:function(t){return a(\"span\",{},[a(\"ellipsis\",{attrs:{length:10,tooltip:\"\"}},[e._v(e._s(t))])],1)}},{key:\"serial\",fn:function(t,i,l){return a(\"span\",{},[e._v(e._s(l+1))])}},{key:\"fileUrl\",fn:function(e){return a(\"span\",{},[a(\"a-popover\",[a(\"template\",{slot:\"content\"},[a(\"img\",{staticStyle:{width:\"200px\"},attrs:{src:e}})]),a(\"a-icon\",{attrs:{type:\"appstore\"}})],2)],1)}},{key:\"action\",fn:function(t,i){return a(\"span\",{},[[a(\"a\",{directives:[{name:\"action\",rawName:\"v-action:edit\",arg:\"edit\"}],on:{click:function(t){return e.handleEditVisible(i)}}},[e._v(\"编辑\")]),a(\"a-divider\",{attrs:{type:\"vertical\"}}),a(\"a\",{directives:[{name:\"action\",rawName:\"v-action:delete\",arg:\"delete\"}],on:{click:function(t){return e.handleDelete(i)}}},[e._v(\"删除\")])]],2)}}])}),a(\"create-image\",{ref:\"createImage\",on:{ok:e.handleRefresh}}),a(\"edit-all-image\",{ref:\"editAllImage\",on:{ok:e.handleRefresh}}),a(\"edit-image\",{ref:\"editImage\",on:{ok:e.handleRefresh}})],1)},l=[],o=a(\"2af9\"),s=a(\"680a\"),r=a(\"2934\"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"a-modal\",{directives:[{name:\"preventReClick\",rawName:\"v-preventReClick\"}],staticStyle:{top:\"0px\"},attrs:{title:\"新建\",width:\"60%\",destroyOnClose:!0,maskClosable:!1,keyboard:!0},on:{ok:e.handleSubmit},model:{value:e.visible,callback:function(t){e.visible=t},expression:\"visible\"}},[a(\"a-form\",{attrs:{form:e.form}},[a(\"a-form-item\",{attrs:{label:\"显示类型\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a(\"a-select\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"typeId\",{rules:[{required:!0,message:\"必填项\"}]}],expression:\"['typeId',{rules: [{required: true, message: '必填项' }]}]\"}],staticStyle:{width:\"300px\"},attrs:{showSearch:\"\",placeholder:\"选择显示类型\",optionFilterProp:\"children\",filterOption:e.filterOption},on:{change:e.handleAppImageChange}},e._l(e.imageTypeList,function(t){return a(\"a-select-option\",{key:t.typeId,attrs:{value:t.typeId}},[e._v(e._s(t.type))])}),1)],1),e.showPicRadio?a(\"a-form-item\",{attrs:{label:\"图片来源\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a(\"a-radio-group\",{attrs:{name:\"radioGroup\",defaultValue:1},on:{change:e.changePicRadio}},[a(\"a-radio\",{attrs:{value:1}},[e._v(\"文件库\")]),a(\"a-radio\",{attrs:{value:2}},[e._v(\"网络资源\")]),a(\"a-radio\",{attrs:{value:3}},[e._v(\"重新上传\")])],1)],1):e._e(),e.showHtmlRadio?a(\"a-form-item\",{attrs:{label:\"主页来源\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a(\"a-radio-group\",{attrs:{name:\"radioGroup\",defaultValue:1},on:{change:e.changeHtmlRadio}},[a(\"a-radio\",{attrs:{value:1}},[e._v(\"自定义模块\")]),a(\"a-radio\",{attrs:{value:2}},[e._v(\"网络资源\")])],1)],1):e._e(),e.showPic?a(\"a-form-item\",{attrs:{label:\"图片库\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a(\"a-select\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"picUrl\",{rules:[{required:!0,message:\"必填项\"}]}],expression:\"['picUrl',{rules: [{required: true, message: '必填项' }]}]\"}],staticStyle:{width:\"200px\"},attrs:{showSearch:\"\",placeholder:\"试着找找已存在的？\",optionFilterProp:\"children\",filterOption:e.filterOption,allowClear:!0},on:{change:e.handleAppImageChange2}},e._l(e.imageList,function(t){return a(\"a-select-option\",{key:t.fileName,attrs:{value:t.fileUrl}},[e._v(e._s(t.fileName))])}),1),a(\"a-divider\",{attrs:{type:\"vertical\"}})],1):e._e(),this.showName?a(\"a-form-item\",{attrs:{label:\"名称\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a(\"a-input\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"name\",{rules:[{required:!0,message:\"名称\"}]}],expression:\"[\\n          'name',\\n          {rules: [{required: true, message: '名称' }]}\\n        ]\"}],attrs:{placeholder:\"名称\"}})],1):e._e(),this.showNetUrl?a(\"a-form-item\",{attrs:{label:\"访问地址\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a(\"a-input\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"netUrl\",{rules:[{required:!0,message:\"必填项\"}]}],expression:\"[\\n        'netUrl',\\n          {rules: [{required: true, message: '必填项' }]}\\n        ]\"}],attrs:{placeholder:\"访问地址\"}})],1):e._e(),e.descnVisible?a(\"a-form-item\",{attrs:{label:\"自定义模块\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a(\"a-input\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"descn\",{rules:[{required:!0,message:\"必填项\"}]}],expression:\"[\\n          'descn',\\n          {rules: [{required: true, message: '必填项' }]}\\n        ]\"}],attrs:{placeholder:\"使用英文“,”间隔(不限个数)\"}})],1):e._e(),e.uploadPic?a(\"a-form-item\",{attrs:{label:\"重新上传\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a(\"a-upload\",{attrs:{action:e.url,listType:\"picture-card\",fileList:e.fileList,remove:e.handleRemoveFile},on:{preview:e.handlePreview,change:e.handleChange}},[e.fileList.length<1?a(\"div\",[a(\"a-icon\",{attrs:{type:\"plus\"}}),a(\"div\",{staticClass:\"ant-upload-text\"},[e._v(\"Upload\")])],1):e._e()]),a(\"a-modal\",{attrs:{visible:e.appImageVisible,footer:null},on:{cancel:e.handleCancel}},[a(\"img\",{staticStyle:{width:\"100%\"},attrs:{alt:\"example\",src:e.appImageWebUrl}})])],1):e._e(),a(\"a-form-item\",{attrs:{label:\"选择机器人\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a(\"s-table\",{ref:\"table\",attrs:{size:\"middle\",rowKey:\"id\",columns:e.columns,data:e.loadData,alert:e.options.alert,rowSelection:e.options.rowSelection,showPagination:\"auto\"},scopedSlots:e._u([{key:\"filterDropdown\",fn:function(t){var i=t.setSelectedKeys,l=t.selectedKeys,o=t.clearFilters,s=t.column;return a(\"div\",{staticStyle:{padding:\"8px\"}},[a(\"a-input\",{staticStyle:{width:\"188px\",\"margin-bottom\":\"8px\",display:\"block\"},attrs:{placeholder:\"Search \"+s.dataIndex,value:l[0]},on:{change:function(e){return i(e.target.value?[e.target.value]:[])}}}),a(\"a-button\",{staticStyle:{width:\"90px\",\"margin-right\":\"8px\"},attrs:{type:\"primary\",icon:\"search\",size:\"small\"},on:{click:function(){return e.handleSearch(l)}}},[e._v(\"Search\")]),a(\"a-button\",{staticStyle:{width:\"90px\"},attrs:{size:\"small\"},on:{click:function(){return e.handleReset(o)}}},[e._v(\"Reset\")])],1)}},{key:\"filterIcon\",fn:function(e){return a(\"a-icon\",{style:{color:e?\"#108ee9\":void 0},attrs:{type:\"search\"}})}},{key:\"serial\",fn:function(t,i,l){return a(\"span\",{},[e._v(e._s(l+1))])}}])})],1)],1)],1)},c=[],d=a(\"cebc\"),p=a(\"75fc\"),m=(a(\"ac6a\"),a(\"5df3\"),a(\"4f7f\"),a(\"91b6\")),u={components:{STable:o[\"f\"]},data:function(){var e=this;return{showNetUrl:!1,uploadPic:!1,fileName:\"\",showHtmlRadio:!1,showName:!1,showPicRadio:!1,picRadio:\"\",showPic:!1,descnVisible:!1,appImageVisible:!1,appImageWebUrl:\"\",picName:\"\",labelCol:{xs:{span:24},sm:{span:7}},wrapperCol:{xs:{span:24},sm:{span:13}},visible:!1,confirmLoading:!1,form:this.$form.createForm(this),fileList:[],descn:\"\",typeId:\"\",robotCode:\"\",imageTypeList:[{typeId:0,type:\"开机\"},{typeId:1,type:\"休息\"},{typeId:2,type:\"LOGO\"},{typeId:3,type:\"主页\"}],imageList:[],columns:[{title:\"#\",dataIndex:\"no\",scopedSlots:{customRender:\"serial\"}},{title:\"机器人名称\",dataIndex:\"name\",scopedSlots:{customRender:\"name\"}},{title:\"机器人编码\",dataIndex:\"code\",scopedSlots:{customRender:\"code\",filterDropdown:\"filterDropdown\",filterIcon:\"filterIcon\"}}],loadData:function(t){var a=JSON.parse(localStorage.getItem(\"user\")).id,i=JSON.parse(localStorage.getItem(\"user\")).orgId,l={type:1,imageType:e.typeId,code:e.robotCode,orgId:i,userId:a};return Object(r[\"b\"])(Object.assign(t,l),\"/robotInfo/loadRobotPageListByAppImage\").then(function(e){return e.result})},selectedRowKeys:new Set([]),options:{alert:{show:!0},rowSelection:{onSelect:this.onSelectChange,onSelectAll:this.onSelectChangeAll}},optionAlertShow:!1,url:\"\"}},methods:{handleSearch:function(e){this.robotCode=e[0],console.log(this.robotCode),this.$refs.table.refresh()},handleReset:function(e){e(),this.robotCode=\"\"},changePicRadio:function(e){console.log(e.target.value);var t=e.target.value;this.picRadio=t,\"1\"==t&&(this.showPic=!0,this.uploadPic=!1,this.showName=!1,this.showNetUrl=!1),\"2\"==t&&(this.showPic=!1,this.uploadPic=!1,this.showName=!0,this.showNetUrl=!0,this.picName=\"\"),\"3\"==t&&(this.showPic=!1,this.uploadPic=!0,this.showName=!0,this.showNetUrl=!1,this.picName=\"\")},changeHtmlRadio:function(e){console.log(e.target.value);var t=e.target.value;\"1\"==t&&(this.descnVisible=!0,this.showName=!0,this.showNetUrl=!1),\"2\"==t&&(this.descnVisible=!1,this.showName=!0,this.showNetUrl=!0)},getImageList:function(){var e=JSON.parse(localStorage.getItem(\"user\")).orgId,t={orgId:e},a=this;Object(r[\"b\"])(t,\"/skillOptionFile/getFileListByType\").then(function(e){a.imageList=e.picture,0!==e.code&&a.$message.error(e.message)})},handleAppImageChange:function(e){this.typeId=e,this.robotCode=\"\",3==e?(this.showHtmlRadio=!0,this.descnVisible=!0,this.showPicRadio=!1,this.showPic=!1,this.showName=!0,this.picName=\"\",this.showNetUrl=!1):(this.showHtmlRadio=!1,this.descnVisible=!1,this.showPicRadio=!0,this.showPic=!0,this.showName=!1),this.$refs.table.refresh()},handleAppImageChange2:function(e,t){void 0==t?(this.showNetUrl=!0,this.uploadPic=!0):(this.uploadPic=!1,this.showNetUrl=!1,this.picName=t.key)},filterOption:function(e,t){return t.componentOptions.children[0].text.toLowerCase().indexOf(e.toLowerCase())>=0},onSelectChange:function(e,t,a){t?this.selectedRowKeys.add(e.id):this.selectedRowKeys.delete(e.id)},onSelectChangeAll:function(e,t){var a=this;e?t.map(function(e,t){a.selectedRowKeys.add(e.id)}):this.selectedRowKeys.clear()},add:function(){this.url=m[\"a\"]+\"appImage/fileUpload\",this.visible=!0,this.selectedRowKeys.clear(),this.getImageList(),this.showNetUrl=!1,this.uploadPic=!1,this.showHtmlRadio=!1,this.showName=!1,this.showPicRadio=!1,this.showPic=!1,this.descnVisible=!1,this.appImageVisible=!1,this.typeId=\"\",this.robotCode=\"\"},handleSubmit:function(){var e=this,t=this.form.validateFields,a=this;this.confirmLoading=!0,t(function(t,i){if(t)e.confirmLoading=!1;else{if(\"\"==e.fileName&&\"3\"==e.picRadio)return void e.$message.error(\"请上传图片\");var l={robotId:Object(p[\"a\"])(a.selectedRowKeys),picName:e.picName,fileName:e.fileName};console.log(l),console.log(i),Object(r[\"b\"])(Object(d[\"a\"])({},l,i),\"/appImage/save\").then(function(t){0==t.code?(a.$message.success(\"新建成功\"),e.fileName=\"\",e.typeId=\"\",e.descn=\"\",e.name=\"\",a.fileList=[]):a.$message.error(t.message),a.visible=!1,a.confirmLoading=!1,a.$emit(\"ok\",i),a.form.resetFields()})}})},handlePreview:function(e){this.appImageWebUrl=e.url||e.thumbUrl,this.appImageVisible=!0},handleChange:function(e){var t=e.fileList;if(t.length>0&&\"done\"==t[0].status){var a=t[0].response;0==a.code?(this.fileName=a.fileName,this.$message.success(\"\".concat(a.fileName,\" 上传成功\"))):this.$message.error(a.message)}this.fileList=t},handleRemoveFile:function(e){var t=this;Object(r[\"b\"])({fileName:e.response.fileName},\"/appImage/delFile\").then(function(e){return 0==e.code?(t.$message.error(e.message),!0):(t.$message.error(e.message),!1)})},handleCancel:function(){this.appImageVisible=!1}}},h=u,f=a(\"2877\"),g=Object(f[\"a\"])(h,n,c,!1,null,null,null),b=g.exports,w=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"a-modal\",{directives:[{name:\"preventReClick\",rawName:\"v-preventReClick\"}],staticStyle:{top:\"20px\"},attrs:{title:\"批量修改屏幕显示\",width:\"70%\",destroyOnClose:!0,maskClosable:!1,keyboard:!0},on:{ok:e.handleSubmit},model:{value:e.visible,callback:function(t){e.visible=t},expression:\"visible\"}},[a(\"a-form\",{attrs:{form:e.form}},[a(\"a-form-item\",{attrs:{label:\"显示类型\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a(\"a-select\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"typeId\",{rules:[{required:!0,message:\"必填项\"}],initialValue:e.typeId}],expression:\"['typeId',{rules: [{required: true,  message: '必填项' }],initialValue:typeId}]\"}],staticStyle:{width:\"150px\"},attrs:{showSearch:\"\",placeholder:\"选择显示类型\",optionFilterProp:\"children\",filterOption:e.filterOption},on:{change:e.handleAppImageChange}},e._l(e.imageTypeList,function(t){return a(\"a-select-option\",{key:t.typeId,attrs:{value:t.typeId}},[e._v(e._s(t.type))])}),1)],1),a(\"a-form-item\",{attrs:{label:\"选择机器人\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a(\"s-table\",{ref:\"table\",attrs:{size:\"middle\",rowKey:\"id\",columns:e.columns,data:e.loadData,alert:e.options.alert,rowSelection:e.options.rowSelection,showPagination:\"auto\"},scopedSlots:e._u([{key:\"serial\",fn:function(t,i,l){return a(\"span\",{},[e._v(e._s(l+1))])}}])})],1),e.updataVisible?a(\"a-form-item\",{attrs:{label:\"图片\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a(\"a-select\",{staticStyle:{width:\"200px\"},attrs:{showSearch:\"\",placeholder:\"试着找找已存在的？\",optionFilterProp:\"children\",filterOption:e.filterOption},on:{change:e.handleAppImageChange2}},e._l(e.imageList,function(t){return a(\"a-select-option\",{key:t.fileName,attrs:{value:t.fileName}},[e._v(e._s(t.name))])}),1),a(\"a-divider\",{attrs:{type:\"vertical\"}})],1):e._e(),e.descnVisible?a(\"a-form-item\",{attrs:{label:\"模块区域\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a(\"a-input\",{staticStyle:{width:\"600px\"},attrs:{placeholder:\"使用英文“,”间隔(不限个数)\"},model:{value:e.descn,callback:function(t){e.descn=t},expression:\"descn\"}})],1):e._e(),e.updataVisible?a(\"a-form-item\",{attrs:{label:\"重新上传\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a(\"a-upload\",{attrs:{action:\"http://robot.lovechuangchuang.com:8085/appImage/fileUpload\",listType:\"picture-card\",fileList:e.fileList,remove:e.handleRemoveFile},on:{preview:e.handlePreview,change:e.handleChange}},[e.fileList.length<1?a(\"div\",[a(\"a-icon\",{attrs:{type:\"plus\"}}),a(\"div\",{staticClass:\"ant-upload-text\"},[e._v(\"Upload\")])],1):e._e()]),a(\"a-modal\",{attrs:{visible:e.appImageVisible,footer:null},on:{cancel:e.handleCancel}},[a(\"img\",{staticStyle:{width:\"100%\"},attrs:{alt:\"example\",src:e.appImageWebUrl}})]),a(\"a-input\",{staticStyle:{width:\"600px\"},attrs:{placeholder:\"<给新图片取个名字吧><非必填>\"},model:{value:e.name,callback:function(t){e.name=t},expression:\"name\"}})],1):e._e()],1)],1)},v=[],y=(a(\"7f7f\"),{components:{STable:o[\"f\"]},data:function(){var e=this;return{showEditCmd:!1,labelCol:{xs:{span:24},sm:{span:7}},wrapperCol:{xs:{span:24},sm:{span:13}},visible:!1,updataVisible:!1,descnVisible:!1,confirmLoading:!1,form:this.$form.createForm(this),fileList:[],fileName:\"\",name:\"\",appImageVisible:!1,appImageWebUrl:\"\",descn:\"\",typeId:\"\",imageTypeList:[{typeId:0,type:\"开机\"},{typeId:1,type:\"休息\"},{typeId:2,type:\"LOGO\"},{typeId:3,type:\"主页\"}],imageList:[{fileName:\"123456.png\",name:\"党建待机（创创）\"},{fileName:\"123457.png\",name:\"教育待机（创创）\"},{fileName:\"123458.png\",name:\"医疗待机（创创）\"},{fileName:\"123459.png\",name:\"政务待机（创创）\"}],columns:[{title:\"#\",dataIndex:\"no\",scopedSlots:{customRender:\"serial\"}},{title:\"机器人名称\",dataIndex:\"name\",scopedSlots:{customRender:\"name\"}},{title:\"机器人编码\",dataIndex:\"code\",scopedSlots:{customRender:\"code\"}}],loadData:function(t){var a=JSON.parse(localStorage.getItem(\"user\")).id,i=JSON.parse(localStorage.getItem(\"user\")).orgId;console.log(\"user 请求\",t);var l={type:2,imageType:e.typeId,code:\"\",orgId:i,userId:a};return Object(r[\"b\"])(Object.assign(t,l),\"/robotInfo/loadRobotPageListByAppImage\").then(function(e){return console.log(e),e.result})},selectedRowKeys:new Set([]),options:{alert:{show:!0},rowSelection:{onSelect:this.onSelectChange,onSelectAll:this.onSelectChangeAll}},optionAlertShow:!1}},created:function(){},methods:{handleAppImageChange:function(e){this.typeId=e,3==e?(this.descnVisible=!0,this.updataVisible=!1):(this.descnVisible=!1,this.updataVisible=!0),this.$refs.table.refresh()},handleAppImageChange2:function(e){this.fileName=e},filterOption:function(e,t){return t.componentOptions.children[0].text.toLowerCase().indexOf(e.toLowerCase())>=0},onSelectChange:function(e,t,a){console.log(e,t),t?this.selectedRowKeys.add(e.id):this.selectedRowKeys.delete(e.id)},onSelectChangeAll:function(e,t){var a=this;e?t.map(function(e,t){a.selectedRowKeys.add(e.id)}):t.map(function(e,t){a.selectedRowKeys.delete(e.id)})},add:function(){this.visible=!0,this.selectedRowKeys.clear()},handleSubmit:function(){var e=this,t=JSON.parse(localStorage.getItem(\"user\")).orgId,a=this.form.validateFields,i=this;this.confirmLoading=!0,a(function(a,l){if(a)e.confirmLoading=!1;else{if(\"\"==e.fileName&&3!=e.typeId)return void e.$message.error(\"请上传图片\");var o={robotId:Object(p[\"a\"])(i.selectedRowKeys),fileName:e.fileName,orgId:t,type:e.typeId,descn:e.descn,name:e.name};Object(r[\"b\"])(Object(d[\"a\"])({},o,l),\"/appImage/updateAll\").then(function(t){0==t.code?(i.$message.success(\"新建成功\"),e.fileName=\"\"):i.$message.error(t.message),i.fileList=[],i.visible=!1,i.confirmLoading=!1,i.$emit(\"ok\",l),i.form.resetFields()})}})},handlePreview:function(e){console.log(e),this.appImageWebUrl=e.url||e.thumbUrl,this.appImageVisible=!0},handleChange:function(e){var t=e.fileList;if(t.length>0&&\"done\"==t[0].status){var a=t[0].response;console.log(a),0==a.code?(this.fileName=a.fileName,this.$message.success(\"\".concat(a.fileName,\" 上传成功\"))):this.$message.error(a.message)}this.fileList=t},handleRemoveFile:function(e){var t=this;Object(r[\"b\"])({fileName:e.response.fileName},\"/appImage/delFile\").then(function(e){return 0==e.code?(t.$message.error(e.message),!0):(t.$message.error(e.message),!1)})},handleCancel:function(){this.appImageVisible=!1}}}),C=y,I=Object(f[\"a\"])(C,w,v,!1,null,null,null),N=I.exports,S=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"a-modal\",{directives:[{name:\"preventReClick\",rawName:\"v-preventReClick\"}],staticStyle:{top:\"20px\"},attrs:{title:\"编辑屏幕显示\",width:\"50%\",destroyOnClose:!0,maskClosable:!1},on:{ok:e.handleSubmit},model:{value:e.visible,callback:function(t){e.visible=t},expression:\"visible\"}},[a(\"a-form\",{attrs:{form:e.form}},[a(\"a-form-item\",{attrs:{label:\"触发类型\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a(\"a-input\",{attrs:{disabled:!0,placeholder:\"触发类型\"},model:{value:e.edit.typeName,callback:function(t){e.$set(e.edit,\"typeName\",t)},expression:\"edit.typeName\"}})],1),e.showPicRadio?a(\"a-form-item\",{attrs:{label:\"图片来源\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a(\"a-radio-group\",{attrs:{name:\"radioGroup\",defaultValue:1},on:{change:e.changePicRadio}},[a(\"a-radio\",{attrs:{value:1}},[e._v(\"文件库\")]),a(\"a-radio\",{attrs:{value:2}},[e._v(\"网络资源\")]),a(\"a-radio\",{attrs:{value:3}},[e._v(\"重新上传\")])],1)],1):e._e(),e.showHtmlRadio?a(\"a-form-item\",{attrs:{label:\"主页来源\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a(\"a-radio-group\",{attrs:{name:\"radioGroup\",defaultValue:e.htmlDefaultValue},on:{change:e.changeHtmlRadio}},[a(\"a-radio\",{attrs:{value:1}},[e._v(\"自定义模块\")]),a(\"a-radio\",{attrs:{value:2}},[e._v(\"网络资源\")])],1)],1):e._e(),e.showPic?a(\"a-form-item\",{attrs:{label:\"图片\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a(\"a-select\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"picUrl\",{rules:[{required:!0,message:\"请添加图片\"}],initialValue:e.edit.fileName}],expression:\"[\\n          'picUrl',\\n          {rules: [{required: true, message: '请添加图片' }],initialValue:edit.fileName}\\n        ]\"}],staticStyle:{width:\"200px\"},attrs:{showSearch:\"\",placeholder:\"试着找找已存在的？\",optionFilterProp:\"children\",filterOption:e.filterOption},on:{change:e.handleAppImageChange2}},e._l(e.imageList,function(t){return a(\"a-select-option\",{key:t.fileName,attrs:{value:t.fileUrl}},[e._v(e._s(t.fileName))])}),1)],1):e._e(),a(\"a-form-item\",{attrs:{label:\"名称\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a(\"a-input\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"name\",{rules:[{required:!0,message:\"名称\"}],initialValue:e.edit.name}],expression:\"[\\n          'name',\\n          {rules: [{required: true, message: '名称' }],initialValue:edit.name}\\n        ]\"}],attrs:{placeholder:\"名称\"}})],1),e.descnVisible?a(\"a-form-item\",{attrs:{label:\"自定义\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a(\"a-input\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"descn\",{rules:[{required:!0,message:\"必填项\"}],initialValue:e.edit.keyWordStr}],expression:\"[\\n          'descn',\\n          {rules: [{required: true, message: '必填项' }],initialValue:edit.keyWordStr}\\n        ]\"}],attrs:{placeholder:\"自定义\"}})],1):e._e(),this.showNetUrl?a(\"a-form-item\",{attrs:{label:\"访问地址\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a(\"a-input\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"netUrl\",{rules:[{required:!0,message:\"必填项\"}],initialValue:e.edit.fileName}],expression:\"[\\n          'netUrl',\\n          {rules: [{required: true, message: '必填项' }],initialValue:edit.fileName}\\n        ]\"}],attrs:{placeholder:\"访问地址\"}})],1):e._e(),e.uploadPic?a(\"a-form-item\",{attrs:{label:\"重新上传\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a(\"a-upload\",{attrs:{action:e.url,listType:\"picture-card\",fileList:e.fileList,remove:e.handleRemoveFile},on:{preview:e.handlePreview,change:e.handleChange}},[e.fileList.length<1?a(\"div\",[a(\"a-icon\",{attrs:{type:\"plus\"}}),a(\"div\",{staticClass:\"ant-upload-text\"},[e._v(\"Upload\")])],1):e._e()]),a(\"a-modal\",{attrs:{visible:e.appImageVisible,footer:null},on:{cancel:e.handleCancel}},[a(\"img\",{staticStyle:{width:\"100%\"},attrs:{alt:\"example\",src:e.appImageWebUrl}})])],1):e._e()],1)],1)},x=[],R=(a(\"3e8f\"),{components:{STable:o[\"f\"]},data:function(){return{edit:\"\",labelCol:{xs:{span:24},sm:{span:7}},wrapperCol:{xs:{span:24},sm:{span:13}},showPicRadio:!1,showHtmlRadio:!1,htmlDefaultValue:1,uploadPic:!1,showNetUrl:!1,visible:!1,fileName:\"\",picName:\"\",picRadio:\"\",appImageVisible:!1,showPic:!1,appImageWebUrl:\"\",descnVisible:!1,fileList:[],confirmLoading:!1,form:this.$form.createForm(this),queryParam:{},imageList:[],options:!1,optionAlertShow:!1,url:\"\"}},created:function(){},methods:{getImageList:function(){var e=JSON.parse(localStorage.getItem(\"user\")).orgId,t={orgId:e},a=this;Object(r[\"b\"])(t,\"/skillOptionFile/getFileListByType\").then(function(e){a.imageList=e.picture,0!==e.code&&a.$message.error(e.message)})},changePicRadio:function(e){console.log(e.target.value);var t=e.target.value;this.picRadio=t,\"1\"==t&&(this.showPic=!0,this.uploadPic=!1,this.showNetUrl=!1),\"2\"==t&&(this.showPic=!1,this.uploadPic=!1,this.showNetUrl=!0,this.picName=\"\"),\"3\"==t&&(this.showPic=!1,this.uploadPic=!0,this.showNetUrl=!1,this.picName=\"\")},changeHtmlRadio:function(e){console.log(e.target.value);var t=e.target.value;\"1\"==t&&(this.descnVisible=!0,this.showNetUrl=!1),\"2\"==t&&(this.descnVisible=!1,this.showNetUrl=!0)},add:function(e){console.log(e),this.getImageList(),this.visible=!0,\"3\"==e.type?(this.showHtmlRadio=!0,this.showPicRadio=!1,this.uploadPic=!1,this.showPic=!1,console.log(e.keyWordStr),void 0!=e.keyWordStr?(this.htmlDefaultValue=1,this.descnVisible=!0):(this.htmlDefaultValue=2,this.showNetUrl=!0)):(this.showPicRadio=!0,this.showPic=!0,this.showNetUrl=!1,this.descnVisible=!1,this.showHtmlRadio=!1,this.uploadPic=!1),this.edit=e,this.url=m[\"a\"]+\"appImage/fileUpload\"},filterOption:function(e,t){return t.componentOptions.children[0].text.toLowerCase().indexOf(e.toLowerCase())>=0},handleSubmit:function(){var e=this,t=this.form.validateFields,a=this;this.confirmLoading=!0,t(function(t,i){if(t)e.confirmLoading=!1;else{if(\"\"==e.fileName&&\"3\"==e.picRadio)return void e.$message.error(\"请上传图片\");var l={id:a.edit.id,fileName:e.fileName};console.log(l),console.log(i),Object(r[\"b\"])(Object(d[\"a\"])({},l,i),\"/appImage/edit\").then(function(e){0==e.code?a.$message.success(\"修改成功\"):a.$message.error(e.message),a.visible=!1,a.confirmLoading=!1,a.$emit(\"ok\",i),a.form.resetFields()})}})},handleCancel:function(){this.appImageVisible=!1},handleAppImageChange2:function(e,t){this.edit.name=t.key},handlePreview:function(e){console.log(e.url+\"/\"+e.thumbUrl),this.appImageWebUrl=e.url||e.thumbUrl,this.appImageVisible=!0},handleRemoveFile:function(e){var t=this;Object(r[\"b\"])({fileName:e.response.fileName},\"/appImage/delFile\").then(function(e){return 0==e.code?(t.$message.error(e.message),!0):(t.$message.error(e.message),!1)})},handleChange:function(e){var t=e.fileList;if(t.length>0&&\"done\"==t[0].status){var a=t[0].response;console.log(a),0==a.code?(this.fileName=a.fileName,this.$message.success(\"\".concat(a.fileName,\" 上传成功\"))):this.$message.error(a.message)}this.fileList=t}}}),_=R,O=Object(f[\"a\"])(_,S,x,!1,null,null,null),P=O.exports,k={name:\"TableList\",components:{Ellipsis:o[\"c\"],STable:o[\"f\"],PageView:s[\"c\"],CreateImage:b,EditAllImage:N,EditImage:P},data:function(){var e=this;return{appImageList:[{typeId:0,type:\"开机\"},{typeId:1,type:\"休息\"},{typeId:2,type:\"LOGO\"},{typeId:3,type:\"主页\"}],advanced:!1,queryParam:{},columns:[{title:\"#\",dataIndex:\"no\",scopedSlots:{customRender:\"serial\"}},{title:\"机器人\",dataIndex:\"robotName\"},{title:\"编码\",dataIndex:\"code\"},{title:\"显示类型\",dataIndex:\"typeName\"},{title:\"文件名称\",dataIndex:\"name\"},{title:\"文件访问路径\",dataIndex:\"fileName\",scopedSlots:{customRender:\"fileName\"}},{title:\"图片预览\",dataIndex:\"fileUrl\",scopedSlots:{customRender:\"fileUrl\"}},{title:\"备注\",dataIndex:\"descn\",scopedSlots:{customRender:\"descn\"}},{title:\"操作\",dataIndex:\"action\",scopedSlots:{customRender:\"action\"}}],loadData:function(t){var a=JSON.parse(localStorage.getItem(\"user\")).orgId;console.log(\"user 请求\",t);var i={orgId:a};return Object(r[\"b\"])(Object.assign(t,i,e.queryParam),\"/appImage/loadPageList\").then(function(e){return console.log(e),e.result})},selectedRowKeys:[],options:{alert:!1,rowSelection:null},optionAlertShow:!1}},created:function(){},methods:{tableOption:function(){var e=this;this.optionAlertShow?(this.options={alert:!1,rowSelection:null},this.optionAlertShow=!1):(this.options={alert:{show:!0,clear:function(){e.selectedRowKeys=[]}},rowSelection:{selectedRowKeys:this.selectedRowKeys,onChange:this.onSelectChange,getCheckboxProps:function(e){return{props:{disabled:\"No 2\"===e.no,name:e.no}}}}},this.optionAlertShow=!0)},onSelectChange:function(e){this.selectedRowKeys=e},filterOption:function(e,t){return t.componentOptions.children[0].text.toLowerCase().indexOf(e.toLowerCase())>=0},handleRefresh:function(){this.$refs.table.refresh(!0)},resetQuery:function(){this.queryParam={},this.$refs.table.refresh(!0)},handleEditVisible:function(e){this.$refs.editImage.add(e)},handleDelete:function(e){var t=this;this.$confirm({title:\"警告\",content:\"真的要删除吗?\",okText:\"删除\",okType:\"danger\",cancelText:\"取消\",onOk:function(){return console.log(\"OK\"),new Promise(function(a,i){setTimeout(Math.random()>.5?a:i,500);var l={id:[e.id]};Object(r[\"b\"])(l,\"/appImage/delete\").then(function(e){0==e.code?(t.$message.success(\"删除成功\"),t.$refs.table.refresh(!0)):t.$message.error(e.message)})}).catch(function(){return console.log(\"Oops errors!\")})},onCancel:function(){console.log(\"Cancel\")}})},handleDeletes:function(){var e=this;this.$confirm({title:\"警告\",content:\"真的要删除吗?\",okText:\"删除\",okType:\"danger\",cancelText:\"取消\",onOk:function(){return new Promise(function(t,a){setTimeout(Math.random()>.5?t:a,500);var i={id:e.selectedRowKeys};Object(r[\"b\"])(i,\"/appImage/delete\").then(function(t){0==t.code?(e.$message.success(\"删除成功\"),e.selectedRowKeys=[],e.$refs.table.refresh()):e.$message.error(t.message)})}).catch(function(){return console.log(\"Oops errors!\")})},onCancel:function(){console.log(\"Cancel\")}})}}},L=k,V=(a(\"fc83\"),Object(f[\"a\"])(L,i,l,!1,null,\"5607add7\",null));t[\"default\"]=V.exports}}]);","extractedComments":[]}