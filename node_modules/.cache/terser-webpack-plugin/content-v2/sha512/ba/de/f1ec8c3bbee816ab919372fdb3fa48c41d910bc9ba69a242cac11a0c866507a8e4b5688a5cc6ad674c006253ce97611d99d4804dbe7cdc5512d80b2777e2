{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-1d39f0d2\"],{\"3e8f\":function(e,t){},\"532e\":function(e,t,a){},\"75fc\":function(e,t,a){\"use strict\";var l=a(\"a745\"),i=a.n(l);function n(e){if(i()(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}var o=a(\"774e\"),s=a.n(o),r=a(\"c8bb\"),c=a.n(r);function d(e){if(c()(Object(e))||\"[object Arguments]\"===Object.prototype.toString.call(e))return s()(e)}function p(){throw new TypeError(\"Invalid attempt to spread non-iterable instance\")}function m(e){return n(e)||d(e)||p()}a.d(t,\"a\",function(){return m})},\"774e\":function(e,t,a){e.exports=a(\"d2d5\")},\"8a8c\":function(e,t,a){\"use strict\";var l=a(\"532e\"),i=a.n(l);i.a},\"91b6\":function(e,t,a){\"use strict\";a.d(t,\"a\",function(){return l});var l=\"http://robot.lovechuangchuang.com:8085/\"},c8bb:function(e,t,a){e.exports=a(\"54a1\")},fcff:function(e,t,a){\"use strict\";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"a-card\",{attrs:{bordered:!1}},[a(\"div\",{staticClass:\"table-page-search-wrapper\"},[a(\"a-form\",{attrs:{layout:\"inline\"}},[a(\"a-row\",{attrs:{gutter:24}},[a(\"a-col\",{attrs:{md:5,sm:24}},[a(\"a-form-item\",{attrs:{label:\"æœºå™¨äººç¼–ç \"}},[a(\"a-input\",{model:{value:e.queryParam.code,callback:function(t){e.$set(e.queryParam,\"code\",t)},expression:\"queryParam.code\"}})],1)],1),a(\"a-col\",{attrs:{md:5,sm:24}},[a(\"a-form-item\",{attrs:{label:\"æ˜¾ç¤ºç±»å‹\"}},[a(\"a-select\",{attrs:{showSearch:\"\",placeholder:\"é€‰æ‹©è§¦å‘æŒ‡ä»¤\",optionFilterProp:\"children\",filterOption:e.filterOption},model:{value:e.queryParam.type,callback:function(t){e.$set(e.queryParam,\"type\",t)},expression:\"queryParam.type\"}},e._l(e.appImageList,function(t){return a(\"a-select-option\",{key:t.typeId,attrs:{value:t.typeId}},[e._v(e._s(t.type))])}),1)],1)],1),a(\"a-col\",{attrs:{md:13,sm:24}},[a(\"a-button\",{attrs:{type:\"primary\"},on:{click:function(t){return e.handleRefresh()}}},[e._v(\"æŸ¥è¯¢\")]),a(\"a-button\",{staticStyle:{\"margin-left\":\"10px\"},on:{click:function(t){return e.resetQuery()}}},[e._v(\"é‡ç½®\")]),a(\"a-button\",{staticStyle:{\"margin-left\":\"10px\"},attrs:{type:\"primary\",icon:\"plus\"},on:{click:function(t){return e.$refs.editAllImage.add()}}},[e._v(\"æ‰¹é‡ä¿®æ”¹\")]),a(\"a-button\",{staticStyle:{\"margin-left\":\"10px\"},attrs:{type:\"primary\",icon:\"plus\"},on:{click:function(t){return e.$refs.createImage.add()}}},[e._v(\"æ–°å»º\")]),a(\"a-button\",{staticStyle:{\"margin-left\":\"10px\"},attrs:{type:\"dashed\"},on:{click:e.tableOption}},[e._v(e._s(e.optionAlertShow?\"å…³é—­\":\"å¼€å¯\")+\" alert\")]),e.selectedRowKeys.length>0?a(\"a-dropdown\",{staticStyle:{\"margin-left\":\"10px\"}},[a(\"a-menu\",{attrs:{slot:\"overlay\"},slot:\"overlay\"},[a(\"a-menu-item\",{directives:[{name:\"action\",rawName:\"v-action:delete\",arg:\"delete\"}],key:\"1\",on:{click:function(t){return e.handleDeletes()}}},[a(\"a-icon\",{attrs:{type:\"delete\"}}),e._v(\"åˆ é™¤\")],1)],1),a(\"a-button\",{staticStyle:{\"margin-left\":\"8px\"}},[e._v(\"æ‰¹é‡æ“ä½œ\"),a(\"a-icon\",{attrs:{type:\"down\"}})],1)],1):e._e()],1)],1)],1)],1),a(\"s-table\",{ref:\"table\",attrs:{size:\"middle\",rowKey:\"id\",columns:e.columns,data:e.loadData,alert:e.options.alert,rowSelection:e.options.rowSelection,showPagination:\"auto\"},scopedSlots:e._u([{key:\"fileName\",fn:function(t){return a(\"span\",{},[a(\"ellipsis\",{attrs:{length:10,tooltip:\"\"}},[e._v(e._s(t))])],1)}},{key:\"descn\",fn:function(t){return a(\"span\",{},[a(\"ellipsis\",{attrs:{length:10,tooltip:\"\"}},[e._v(e._s(t))])],1)}},{key:\"serial\",fn:function(t,l,i){return a(\"span\",{},[e._v(e._s(i+1))])}},{key:\"fileUrl\",fn:function(e){return a(\"span\",{},[a(\"a-popover\",[a(\"template\",{slot:\"content\"},[a(\"img\",{staticStyle:{width:\"200px\"},attrs:{src:e}})]),a(\"a-icon\",{attrs:{type:\"appstore\"}})],2)],1)}},{key:\"action\",fn:function(t,l){return a(\"span\",{},[[a(\"a\",{directives:[{name:\"action\",rawName:\"v-action:edit\",arg:\"edit\"}],on:{click:function(t){return e.handleEditVisible(l)}}},[e._v(\"ç¼–è¾‘\")]),a(\"a-divider\",{attrs:{type:\"vertical\"}}),a(\"a\",{directives:[{name:\"action\",rawName:\"v-action:delete\",arg:\"delete\"}],on:{click:function(t){return e.handleDelete(l)}}},[e._v(\"åˆ é™¤\")])]],2)}}])}),a(\"create-image\",{ref:\"createImage\",on:{ok:e.handleRefresh}}),a(\"edit-all-image\",{ref:\"editAllImage\",on:{ok:e.handleRefresh}}),a(\"edit-image\",{ref:\"editImage\",on:{ok:e.handleRefresh}})],1)},i=[],n=a(\"2af9\"),o=a(\"680a\"),s=a(\"2934\"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"a-modal\",{directives:[{name:\"preventReClick\",rawName:\"v-preventReClick\"}],staticStyle:{top:\"0px\"},attrs:{title:\"æ–°å»º\",width:\"60%\",destroyOnClose:!0,maskClosable:!1,keyboard:!0},on:{ok:e.handleSubmit},model:{value:e.visible,callback:function(t){e.visible=t},expression:\"visible\"}},[a(\"a-form\",{attrs:{form:e.form}},[a(\"a-form-item\",{attrs:{label:\"æ˜¾ç¤ºç±»å‹\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a(\"a-select\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"typeId\",{rules:[{required:!0,message:\"å¿…å¡«é¡¹\"}],initialValue:e.typeId}],expression:\"['typeId',{rules: [{required: true,  message: 'å¿…å¡«é¡¹' }],initialValue:typeId}]\"}],staticStyle:{width:\"300px\"},attrs:{showSearch:\"\",placeholder:\"é€‰æ‹©æ˜¾ç¤ºç±»å‹\",optionFilterProp:\"children\",filterOption:e.filterOption},on:{change:e.handleAppImageChange}},e._l(e.imageTypeList,function(t){return a(\"a-select-option\",{key:t.typeId,attrs:{value:t.typeId}},[e._v(e._s(t.type))])}),1)],1),a(\"a-form-item\",{attrs:{label:\"é€‰æ‹©æœºå™¨äºº\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a(\"s-table\",{ref:\"table\",attrs:{size:\"middle\",rowKey:\"id\",columns:e.columns,data:e.loadData,alert:e.options.alert,rowSelection:e.options.rowSelection,showPagination:\"auto\"},scopedSlots:e._u([{key:\"serial\",fn:function(t,l,i){return a(\"span\",{},[e._v(e._s(i+1))])}}])})],1),e.updataVisible?a(\"a-form-item\",{attrs:{label:\"å›¾ç‰‡\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a(\"a-select\",{staticStyle:{width:\"200px\"},attrs:{showSearch:\"\",placeholder:\"è¯•ç€æ‰¾æ‰¾å·²å­˜åœ¨çš„ï¼Ÿ\",optionFilterProp:\"children\",filterOption:e.filterOption},on:{change:e.handleAppImageChange2}},e._l(e.imageList,function(t){return a(\"a-select-option\",{key:t.fileName,attrs:{value:t.fileName}},[e._v(e._s(t.name))])}),1),a(\"a-divider\",{attrs:{type:\"vertical\"}})],1):e._e(),e.descnVisible?a(\"a-form-item\",{attrs:{label:\"æ¨¡å—åŒºåŸŸ\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a(\"a-input\",{staticStyle:{width:\"600px\"},attrs:{placeholder:\"ä½¿ç”¨è‹±æ–‡â€œ,â€é—´éš”(ä¸é™ä¸ªæ•°)\"},model:{value:e.descn,callback:function(t){e.descn=t},expression:\"descn\"}})],1):e._e(),e.updataVisible?a(\"a-form-item\",{attrs:{label:\"é‡æ–°ä¸Šä¼ \",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a(\"a-upload\",{attrs:{action:e.url,listType:\"picture-card\",fileList:e.fileList,remove:e.handleRemoveFile},on:{preview:e.handlePreview,change:e.handleChange}},[e.fileList.length<1?a(\"div\",[a(\"a-icon\",{attrs:{type:\"plus\"}}),a(\"div\",{staticClass:\"ant-upload-text\"},[e._v(\"Upload\")])],1):e._e()]),a(\"a-modal\",{attrs:{visible:e.appImageVisible,footer:null},on:{cancel:e.handleCancel}},[a(\"img\",{staticStyle:{width:\"100%\"},attrs:{alt:\"example\",src:e.appImageWebUrl}})]),a(\"a-input\",{staticStyle:{width:\"600px\"},attrs:{placeholder:\"<ç»™æ–°å›¾ç‰‡å–ä¸ªåå­—å§><éå¿…å¡«>\"},model:{value:e.name,callback:function(t){e.name=t},expression:\"name\"}})],1):e._e()],1)],1)},c=[],d=a(\"cebc\"),p=(a(\"7f7f\"),a(\"75fc\")),m=(a(\"ac6a\"),a(\"5df3\"),a(\"4f7f\"),a(\"91b6\")),u={components:{STable:n[\"f\"]},data:function(){var e=this;return{showEditCmd:!1,labelCol:{xs:{span:24},sm:{span:7}},wrapperCol:{xs:{span:24},sm:{span:13}},visible:!1,updataVisible:!1,descnVisible:!1,confirmLoading:!1,form:this.$form.createForm(this),fileList:[],fileName:\"\",name:\"\",appImageVisible:!1,appImageWebUrl:\"\",descn:\"\",typeId:\"\",imageTypeList:[{typeId:0,type:\"å¼€æœº\"},{typeId:1,type:\"ä¼‘æ¯\"},{typeId:2,type:\"LOGO\"},{typeId:3,type:\"ä¸»é¡µ\"}],imageList:[{fileName:\"1549196486128.jpg\",name:\"ä½ å¥½åˆ›åˆ›ï¼ˆæ˜¥èŠ‚ï¼‰\"},{fileName:\"1572331225157.png\",name:\"ä½ å¥½ç¥ç¥ï¼ˆé€šç”¨ï¼‰\"},{fileName:\"1569736383789.png\",name:\"ä½ å¥½æ¬¢æ¬¢ï¼ˆé€šç”¨ï¼‰\"},{fileName:\"1572232782110.png\",name:\"ä½ å¥½ä¸¹ä¸¹ï¼ˆé€šç”¨ï¼‰\"},{fileName:\"1572232782110.png\",name:\"é€šç”¨å›¾ç‰‡è¯·è”ç³»ç®¡ç†å‘˜æ·»åŠ ï¼ˆæ­¤æ¡å‹¿é€‰ï¼‰\"}],columns:[{title:\"#\",dataIndex:\"no\",scopedSlots:{customRender:\"serial\"}},{title:\"æœºå™¨äººåç§°\",dataIndex:\"name\",scopedSlots:{customRender:\"name\"}},{title:\"æœºå™¨äººç¼–ç \",dataIndex:\"code\",scopedSlots:{customRender:\"code\"}}],loadData:function(t){var a=JSON.parse(localStorage.getItem(\"user\")).id,l=JSON.parse(localStorage.getItem(\"user\")).orgId;console.log(\"user è¯·æ±‚\",t);var i={type:1,imageType:e.typeId,code:\"\",orgId:l,userId:a};return Object(s[\"b\"])(Object.assign(t,i),\"/robotInfo/loadRobotPageListByAppImage\").then(function(e){return console.log(e),e.result})},selectedRowKeys:new Set([]),options:{alert:{show:!0},rowSelection:{onSelect:this.onSelectChange,onSelectAll:this.onSelectChangeAll}},optionAlertShow:!1,url:\"\"}},methods:{handleAppImageChange:function(e){this.typeId=e,3==e?(this.descnVisible=!0,this.updataVisible=!1):(this.descnVisible=!1,this.updataVisible=!0),this.$refs.table.refresh()},handleAppImageChange2:function(e){this.fileName=e},filterOption:function(e,t){return t.componentOptions.children[0].text.toLowerCase().indexOf(e.toLowerCase())>=0},onSelectChange:function(e,t,a){console.log(e,t),t?this.selectedRowKeys.add(e.id):this.selectedRowKeys.delete(e.id)},onSelectChangeAll:function(e,t){var a=this;e?t.map(function(e,t){a.selectedRowKeys.add(e.id)}):t.map(function(e,t){a.selectedRowKeys.delete(e.id)})},add:function(){this.url=m[\"a\"]+\"appImage/fileUpload\",this.visible=!0,this.selectedRowKeys.clear()},handleSubmit:function(){var e=this,t=JSON.parse(localStorage.getItem(\"user\")).orgId,a=this.form.validateFields,l=this;this.confirmLoading=!0,a(function(a,i){if(a)e.confirmLoading=!1;else{if(\"\"==e.fileName&&3!=e.typeId)return void e.$message.error(\"è¯·ä¸Šä¼ å›¾ç‰‡\");if(\"\"==e.descn&&3==e.typeId)return void e.$message.error(\"æ¨¡å—åŒºåŸŸçš„æ–‡å­—ä¸èƒ½ä¸ºç©º\");var n={robotId:Object(p[\"a\"])(l.selectedRowKeys),fileName:e.fileName,orgId:t,type:e.typeId,descn:e.descn,name:e.name};Object(s[\"b\"])(Object(d[\"a\"])({},n,i),\"/appImage/save\").then(function(t){0==t.code?(l.$message.success(\"æ–°å»ºæˆåŠŸ\"),e.fileName=\"\",e.typeId=\"\",e.descn=\"\",e.name=\"\",l.fileList=[]):l.$message.error(t.message),l.visible=!1,l.confirmLoading=!1,l.$emit(\"ok\",i),l.form.resetFields()})}})},handlePreview:function(e){console.log(e),this.appImageWebUrl=e.url||e.thumbUrl,this.appImageVisible=!0},handleChange:function(e){var t=e.fileList;if(t.length>0&&\"done\"==t[0].status){var a=t[0].response;console.log(a),0==a.code?(this.fileName=a.fileName,this.$message.success(\"\".concat(a.fileName,\" ä¸Šä¼ æˆåŠŸ\"))):this.$message.error(a.message)}this.fileList=t},handleRemoveFile:function(e){var t=this;Object(s[\"b\"])({fileName:e.response.fileName},\"/appImage/delFile\").then(function(e){return 0==e.code?(t.$message.error(e.message),!0):(t.$message.error(e.message),!1)})},handleCancel:function(){this.appImageVisible=!1}}},f=u,h=a(\"2877\"),g=Object(h[\"a\"])(f,r,c,!1,null,null,null),b=g.exports,y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"a-modal\",{directives:[{name:\"preventReClick\",rawName:\"v-preventReClick\"}],staticStyle:{top:\"20px\"},attrs:{title:\"æ‰¹é‡ä¿®æ”¹å±å¹•æ˜¾ç¤º\",width:\"70%\",destroyOnClose:!0,maskClosable:!1,keyboard:!0},on:{ok:e.handleSubmit},model:{value:e.visible,callback:function(t){e.visible=t},expression:\"visible\"}},[a(\"a-form\",{attrs:{form:e.form}},[a(\"a-form-item\",{attrs:{label:\"æ˜¾ç¤ºç±»å‹\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a(\"a-select\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"typeId\",{rules:[{required:!0,message:\"å¿…å¡«é¡¹\"}],initialValue:e.typeId}],expression:\"['typeId',{rules: [{required: true,  message: 'å¿…å¡«é¡¹' }],initialValue:typeId}]\"}],staticStyle:{width:\"150px\"},attrs:{showSearch:\"\",placeholder:\"é€‰æ‹©æ˜¾ç¤ºç±»å‹\",optionFilterProp:\"children\",filterOption:e.filterOption},on:{change:e.handleAppImageChange}},e._l(e.imageTypeList,function(t){return a(\"a-select-option\",{key:t.typeId,attrs:{value:t.typeId}},[e._v(e._s(t.type))])}),1)],1),a(\"a-form-item\",{attrs:{label:\"é€‰æ‹©æœºå™¨äºº\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a(\"s-table\",{ref:\"table\",attrs:{size:\"middle\",rowKey:\"id\",columns:e.columns,data:e.loadData,alert:e.options.alert,rowSelection:e.options.rowSelection,showPagination:\"auto\"},scopedSlots:e._u([{key:\"serial\",fn:function(t,l,i){return a(\"span\",{},[e._v(e._s(i+1))])}}])})],1),e.updataVisible?a(\"a-form-item\",{attrs:{label:\"å›¾ç‰‡\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a(\"a-select\",{staticStyle:{width:\"200px\"},attrs:{showSearch:\"\",placeholder:\"è¯•ç€æ‰¾æ‰¾å·²å­˜åœ¨çš„ï¼Ÿ\",optionFilterProp:\"children\",filterOption:e.filterOption},on:{change:e.handleAppImageChange2}},e._l(e.imageList,function(t){return a(\"a-select-option\",{key:t.fileName,attrs:{value:t.fileName}},[e._v(e._s(t.name))])}),1),a(\"a-divider\",{attrs:{type:\"vertical\"}})],1):e._e(),e.descnVisible?a(\"a-form-item\",{attrs:{label:\"æ¨¡å—åŒºåŸŸ\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a(\"a-input\",{staticStyle:{width:\"600px\"},attrs:{placeholder:\"ä½¿ç”¨è‹±æ–‡â€œ,â€é—´éš”(ä¸é™ä¸ªæ•°)\"},model:{value:e.descn,callback:function(t){e.descn=t},expression:\"descn\"}})],1):e._e(),e.updataVisible?a(\"a-form-item\",{attrs:{label:\"é‡æ–°ä¸Šä¼ \",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a(\"a-upload\",{attrs:{action:\"http://robot.lovechuangchuang.com:8085/appImage/fileUpload\",listType:\"picture-card\",fileList:e.fileList,remove:e.handleRemoveFile},on:{preview:e.handlePreview,change:e.handleChange}},[e.fileList.length<1?a(\"div\",[a(\"a-icon\",{attrs:{type:\"plus\"}}),a(\"div\",{staticClass:\"ant-upload-text\"},[e._v(\"Upload\")])],1):e._e()]),a(\"a-modal\",{attrs:{visible:e.appImageVisible,footer:null},on:{cancel:e.handleCancel}},[a(\"img\",{staticStyle:{width:\"100%\"},attrs:{alt:\"example\",src:e.appImageWebUrl}})]),a(\"a-input\",{staticStyle:{width:\"600px\"},attrs:{placeholder:\"<ç»™æ–°å›¾ç‰‡å–ä¸ªåå­—å§><éå¿…å¡«>\"},model:{value:e.name,callback:function(t){e.name=t},expression:\"name\"}})],1):e._e()],1)],1)},v=[],w={components:{STable:n[\"f\"]},data:function(){var e=this;return{showEditCmd:!1,labelCol:{xs:{span:24},sm:{span:7}},wrapperCol:{xs:{span:24},sm:{span:13}},visible:!1,updataVisible:!1,descnVisible:!1,confirmLoading:!1,form:this.$form.createForm(this),fileList:[],fileName:\"\",name:\"\",appImageVisible:!1,appImageWebUrl:\"\",descn:\"\",typeId:\"\",imageTypeList:[{typeId:0,type:\"å¼€æœº\"},{typeId:1,type:\"ä¼‘æ¯\"},{typeId:2,type:\"LOGO\"},{typeId:3,type:\"ä¸»é¡µ\"}],imageList:[{fileName:\"123456.png\",name:\"å…šå»ºå¾…æœºï¼ˆåˆ›åˆ›ï¼‰\"},{fileName:\"123457.png\",name:\"æ•™è‚²å¾…æœºï¼ˆåˆ›åˆ›ï¼‰\"},{fileName:\"123458.png\",name:\"åŒ»ç–—å¾…æœºï¼ˆåˆ›åˆ›ï¼‰\"},{fileName:\"123459.png\",name:\"æ”¿åŠ¡å¾…æœºï¼ˆåˆ›åˆ›ï¼‰\"}],columns:[{title:\"#\",dataIndex:\"no\",scopedSlots:{customRender:\"serial\"}},{title:\"æœºå™¨äººåç§°\",dataIndex:\"name\",scopedSlots:{customRender:\"name\"}},{title:\"æœºå™¨äººç¼–ç \",dataIndex:\"code\",scopedSlots:{customRender:\"code\"}}],loadData:function(t){var a=JSON.parse(localStorage.getItem(\"user\")).id,l=JSON.parse(localStorage.getItem(\"user\")).orgId;console.log(\"user è¯·æ±‚\",t);var i={type:2,imageType:e.typeId,code:\"\",orgId:l,userId:a};return Object(s[\"b\"])(Object.assign(t,i),\"/robotInfo/loadRobotPageListByAppImage\").then(function(e){return console.log(e),e.result})},selectedRowKeys:new Set([]),options:{alert:{show:!0},rowSelection:{onSelect:this.onSelectChange,onSelectAll:this.onSelectChangeAll}},optionAlertShow:!1}},created:function(){},methods:{handleAppImageChange:function(e){this.typeId=e,3==e?(this.descnVisible=!0,this.updataVisible=!1):(this.descnVisible=!1,this.updataVisible=!0),this.$refs.table.refresh()},handleAppImageChange2:function(e){this.fileName=e},filterOption:function(e,t){return t.componentOptions.children[0].text.toLowerCase().indexOf(e.toLowerCase())>=0},onSelectChange:function(e,t,a){console.log(e,t),t?this.selectedRowKeys.add(e.id):this.selectedRowKeys.delete(e.id)},onSelectChangeAll:function(e,t){var a=this;e?t.map(function(e,t){a.selectedRowKeys.add(e.id)}):t.map(function(e,t){a.selectedRowKeys.delete(e.id)})},add:function(){this.visible=!0,this.selectedRowKeys.clear()},handleSubmit:function(){var e=this,t=JSON.parse(localStorage.getItem(\"user\")).orgId,a=this.form.validateFields,l=this;this.confirmLoading=!0,a(function(a,i){if(a)e.confirmLoading=!1;else{if(\"\"==e.fileName&&3!=e.typeId)return void e.$message.error(\"è¯·ä¸Šä¼ å›¾ç‰‡\");var n={robotId:Object(p[\"a\"])(l.selectedRowKeys),fileName:e.fileName,orgId:t,type:e.typeId,descn:e.descn,name:e.name};Object(s[\"b\"])(Object(d[\"a\"])({},n,i),\"/appImage/updateAll\").then(function(t){0==t.code?(l.$message.success(\"æ–°å»ºæˆåŠŸ\"),e.fileName=\"\"):l.$message.error(t.message),l.fileList=[],l.visible=!1,l.confirmLoading=!1,l.$emit(\"ok\",i),l.form.resetFields()})}})},handlePreview:function(e){console.log(e),this.appImageWebUrl=e.url||e.thumbUrl,this.appImageVisible=!0},handleChange:function(e){var t=e.fileList;if(t.length>0&&\"done\"==t[0].status){var a=t[0].response;console.log(a),0==a.code?(this.fileName=a.fileName,this.$message.success(\"\".concat(a.fileName,\" ä¸Šä¼ æˆåŠŸ\"))):this.$message.error(a.message)}this.fileList=t},handleRemoveFile:function(e){var t=this;Object(s[\"b\"])({fileName:e.response.fileName},\"/appImage/delFile\").then(function(e){return 0==e.code?(t.$message.error(e.message),!0):(t.$message.error(e.message),!1)})},handleCancel:function(){this.appImageVisible=!1}}},I=w,C=Object(h[\"a\"])(I,y,v,!1,null,null,null),S=C.exports,x=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"a-modal\",{directives:[{name:\"preventReClick\",rawName:\"v-preventReClick\"}],staticStyle:{top:\"20px\"},attrs:{title:\"ç¼–è¾‘å±å¹•æ˜¾ç¤º\",width:\"50%\",destroyOnClose:!0,maskClosable:!1},on:{ok:e.handleSubmit},model:{value:e.visible,callback:function(t){e.visible=t},expression:\"visible\"}},[a(\"a-form\",{attrs:{form:e.form}},[a(\"a-form-item\",{attrs:{label:\"è§¦å‘ç±»å‹\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a(\"a-input\",{attrs:{disabled:!0,placeholder:\"è§¦å‘ç±»å‹\"},model:{value:e.edit.name,callback:function(t){e.$set(e.edit,\"name\",t)},expression:\"edit.name\"}})],1),a(\"a-form-item\",{attrs:{label:\"é€‰æ‹©æœºå™¨äºº\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a(\"a-table\",{ref:\"table\",attrs:{size:\"middle\",rowKey:\"id\",alert:e.options.alert,rowSelection:e.options.rowSelection,columns:e.columns,dataSource:e.data},scopedSlots:e._u([{key:\"serial\",fn:function(t,l,i){return a(\"span\",{},[e._v(e._s(i+1))])}}])})],1),e.descnVisible?a(\"a-form-item\",{attrs:{label:\"æ¨¡å—åŒºåŸŸ\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a(\"a-input\",{staticStyle:{width:\"350px\"},attrs:{placeholder:\"ä½¿ç”¨è‹±æ–‡â€œ,â€é—´éš”(ä¸é™ä¸ªæ•°)\"},model:{value:e.edit.descn,callback:function(t){e.$set(e.edit,\"descn\",t)},expression:\"edit.descn\"}})],1):e._e(),e.updataVisible?a(\"a-form-item\",{attrs:{label:\"å›¾ç‰‡\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a(\"a-select\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"fileName\",{rules:[{required:!0,message:\"è¯·æ·»åŠ å›¾ç‰‡\"}],initialValue:e.edit.fileName}],expression:\"[\\n          'fileName',\\n          {rules: [{required: true, message: 'è¯·æ·»åŠ å›¾ç‰‡' }],initialValue:edit.fileName}\\n        ]\"}],staticStyle:{width:\"200px\"},attrs:{showSearch:\"\",placeholder:\"è¯•ç€æ‰¾æ‰¾å·²å­˜åœ¨çš„ï¼Ÿ\",optionFilterProp:\"children\",filterOption:e.filterOption},on:{change:e.handleAppImageChange2}},e._l(e.imageList,function(t){return a(\"a-select-option\",{key:t.fileName,attrs:{value:t.fileName}},[e._v(e._s(t.name))])}),1)],1):e._e(),a(\"a-form-item\",{attrs:{label:\"åç§°\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a(\"a-input\",{staticStyle:{width:\"350px\"},attrs:{placeholder:\"<è¡Œè¡Œå¥½ï¼Œå–ä¸ªå(ï½ï¿£â–½ï¿£)ï½><éå¿…å¡«>ğŸ˜˜\"},model:{value:e.edit.name,callback:function(t){e.$set(e.edit,\"name\",t)},expression:\"edit.name\"}})],1),e.updataVisible?a(\"a-form-item\",{attrs:{label:\"é‡æ–°ä¸Šä¼ \",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a(\"a-upload\",{attrs:{action:e.url,listType:\"picture-card\",fileList:e.fileList,remove:e.handleRemoveFile},on:{preview:e.handlePreview,change:e.handleChange}},[e.fileList.length<1?a(\"div\",[a(\"a-icon\",{attrs:{type:\"plus\"}}),a(\"div\",{staticClass:\"ant-upload-text\"},[e._v(\"Upload\")])],1):e._e()]),a(\"a-modal\",{attrs:{visible:e.appImageVisible,footer:null},on:{cancel:e.handleCancel}},[a(\"img\",{staticStyle:{width:\"100%\"},attrs:{alt:\"example\",src:e.appImageWebUrl}})])],1):e._e()],1)],1)},N=[],O=(a(\"3e8f\"),{components:{STable:n[\"f\"]},data:function(){return{edit:{id:0,name:\"\",fileName:\"\",imageName:\"\",descn:\"\"},labelCol:{xs:{span:24},sm:{span:7}},wrapperCol:{xs:{span:24},sm:{span:13}},visible:!1,appImageVisible:!1,appImageWebUrl:\"\",descnVisible:!1,updataVisible:!1,fileList:[],confirmLoading:!1,form:this.$form.createForm(this),queryParam:{},imageList:[{fileName:\"123456.png\",name:\"å…šå»ºå¾…æœºï¼ˆåˆ›åˆ›ï¼‰\"},{fileName:\"123457.png\",name:\"æ•™è‚²å¾…æœºï¼ˆåˆ›åˆ›ï¼‰\"},{fileName:\"123458.png\",name:\"åŒ»ç–—å¾…æœºï¼ˆåˆ›åˆ›ï¼‰\"},{fileName:\"123459.png\",name:\"æ”¿åŠ¡å¾…æœºï¼ˆåˆ›åˆ›ï¼‰\"}],columns:[{title:\"#\",dataIndex:\"no\",scopedSlots:{customRender:\"serial\"}},{title:\"æœºå™¨äººåç§°\",dataIndex:\"robotName\",scopedSlots:{customRender:\"robotName\"}},{title:\"æœºå™¨äººç¼–ç \",dataIndex:\"code\",scopedSlots:{customRender:\"code\"}}],data:[],options:!1,optionAlertShow:!1,url:\"\"}},created:function(){},methods:{add:function(e){console.log(e),this.visible=!0,\"ä¸»é¡µ\"==e.type?(this.descnVisible=!0,this.updataVisible=!1,this.edit.descn=e.descn):(this.updataVisible=!0,this.descnVisible=!1),this.edit.id=e.id,this.edit.fileName=e.fileName,this.edit.imageName=e.name,this.edit.name=e.name,this.data=[],this.data.push(e),this.url=m[\"a\"]+\"appImage/fileUpload\"},filterOption:function(e,t){return t.componentOptions.children[0].text.toLowerCase().indexOf(e.toLowerCase())>=0},handleSubmit:function(){var e=this,t=this.form.validateFields,a=this;this.confirmLoading=!0,t(function(t,l){if(t)e.confirmLoading=!1;else{if(\"\"==e.edit.name||null==e.edit.name)return void e.$message.error(\"æ‡’å¾—åç§°éƒ½ä¸å†™äº†ï¼ŸğŸ˜ˆ\");var i={robotId:[],name:e.edit.name,descn:e.edit.descn,entityId:a.edit.id,fileName:e.edit.fileName};Object(s[\"b\"])(Object(d[\"a\"])({},i,l),\"/appImage/save\").then(function(t){0==t.code?(a.$message.success(\"ä¿®æ”¹æˆåŠŸ\"),e.edit={id:0,name:\"\",fileName:\"\",imageName:\"\",descn:\"\"}):a.$message.error(t.message),a.visible=!1,a.confirmLoading=!1,a.$emit(\"ok\",l),a.form.resetFields()})}})},handleCancel:function(){this.appImageVisible=!1},handleAppImageChange2:function(e){this.edit.fileName=e},handlePreview:function(e){console.log(e.url+\"/\"+e.thumbUrl),this.appImageWebUrl=e.url||e.thumbUrl,this.appImageVisible=!0},handleRemoveFile:function(e){var t=this;Object(s[\"b\"])({fileName:e.response.fileName},\"/appImage/delFile\").then(function(e){return 0==e.code?(t.$message.error(e.message),!0):(t.$message.error(e.message),!1)})},handleChange:function(e){var t=e.fileList;if(t.length>0&&\"done\"==t[0].status){var a=t[0].response;console.log(a),0==a.code?(this.edit.fileName=a.fileName,this.$message.success(\"\".concat(a.fileName,\" ä¸Šä¼ æˆåŠŸ\"))):this.$message.error(a.message)}this.fileList=t}}}),_=O,k=Object(h[\"a\"])(_,x,N,!1,null,null,null),L=k.exports,R={name:\"TableList\",components:{Ellipsis:n[\"c\"],STable:n[\"f\"],PageView:o[\"c\"],CreateImage:b,EditAllImage:S,EditImage:L},data:function(){var e=this;return{appImageList:[{typeId:0,type:\"å¼€æœº\"},{typeId:1,type:\"ä¼‘æ¯\"},{typeId:2,type:\"LOGO\"},{typeId:3,type:\"ä¸»é¡µ\"}],advanced:!1,queryParam:{},columns:[{title:\"#\",dataIndex:\"no\",scopedSlots:{customRender:\"serial\"}},{title:\"åç§°\",dataIndex:\"name\"},{title:\"æ–‡ä»¶åç§°\",dataIndex:\"fileName\",scopedSlots:{customRender:\"fileName\"}},{title:\"ç…§ç‰‡\",dataIndex:\"fileUrl\",scopedSlots:{customRender:\"fileUrl\"}},{title:\"æ˜¾ç¤ºç±»å‹\",dataIndex:\"type\"},{title:\"æœºå™¨äºº\",dataIndex:\"robotName\"},{title:\"ç¼–ç \",dataIndex:\"code\"},{title:\"å¤‡æ³¨\",dataIndex:\"descn\",scopedSlots:{customRender:\"descn\"}},{title:\"æ“ä½œ\",dataIndex:\"action\",scopedSlots:{customRender:\"action\"}}],loadData:function(t){var a=JSON.parse(localStorage.getItem(\"user\")).orgId;console.log(\"user è¯·æ±‚\",t);var l={orgId:a};return Object(s[\"b\"])(Object.assign(t,l,e.queryParam),\"/appImage/loadPageList\").then(function(e){return console.log(e),e.result})},selectedRowKeys:[],options:{alert:!1,rowSelection:null},optionAlertShow:!1}},created:function(){},methods:{tableOption:function(){var e=this;this.optionAlertShow?(this.options={alert:!1,rowSelection:null},this.optionAlertShow=!1):(this.options={alert:{show:!0,clear:function(){e.selectedRowKeys=[]}},rowSelection:{selectedRowKeys:this.selectedRowKeys,onChange:this.onSelectChange,getCheckboxProps:function(e){return{props:{disabled:\"No 2\"===e.no,name:e.no}}}}},this.optionAlertShow=!0)},onSelectChange:function(e){this.selectedRowKeys=e},filterOption:function(e,t){return t.componentOptions.children[0].text.toLowerCase().indexOf(e.toLowerCase())>=0},handleRefresh:function(){this.$refs.table.refresh(!0)},resetQuery:function(){this.queryParam={},this.$refs.table.refresh(!0)},handleEditVisible:function(e){this.$refs.editImage.add(e)},handleDelete:function(e){var t=this;this.$confirm({title:\"è­¦å‘Š\",content:\"çœŸçš„è¦åˆ é™¤å—?\",okText:\"åˆ é™¤\",okType:\"danger\",cancelText:\"å–æ¶ˆ\",onOk:function(){return console.log(\"OK\"),new Promise(function(a,l){setTimeout(Math.random()>.5?a:l,500);var i={id:[e.id]};Object(s[\"b\"])(i,\"/appImage/delete\").then(function(e){0==e.code?(t.$message.success(\"åˆ é™¤æˆåŠŸ\"),t.$refs.table.refresh(!0)):t.$message.error(e.message)})}).catch(function(){return console.log(\"Oops errors!\")})},onCancel:function(){console.log(\"Cancel\")}})},handleDeletes:function(){var e=this;this.$confirm({title:\"è­¦å‘Š\",content:\"çœŸçš„è¦åˆ é™¤å—?\",okText:\"åˆ é™¤\",okType:\"danger\",cancelText:\"å–æ¶ˆ\",onOk:function(){return new Promise(function(t,a){setTimeout(Math.random()>.5?t:a,500);var l={id:e.selectedRowKeys};Object(s[\"b\"])(l,\"/appImage/delete\").then(function(t){0==t.code?(e.$message.success(\"åˆ é™¤æˆåŠŸ\"),e.selectedRowKeys=[],e.$refs.table.refresh()):e.$message.error(t.message)})}).catch(function(){return console.log(\"Oops errors!\")})},onCancel:function(){console.log(\"Cancel\")}})}}},$=R,V=(a(\"8a8c\"),Object(h[\"a\"])($,l,i,!1,null,\"452db5c4\",null));t[\"default\"]=V.exports}}]);","extractedComments":[]}