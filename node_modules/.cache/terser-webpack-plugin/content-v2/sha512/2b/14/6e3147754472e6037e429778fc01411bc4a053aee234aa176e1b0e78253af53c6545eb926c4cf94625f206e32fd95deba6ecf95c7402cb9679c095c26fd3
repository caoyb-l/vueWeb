{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-29065635\"],{2934:function(e,t,a){\"use strict\";a.d(t,\"b\",function(){return o}),a.d(t,\"a\",function(){return i});var n=a(\"b775\");function o(e,t){return console.log(\"请求参数:\",e),Object(n[\"b\"])({url:t,method:\"post\",data:e})}function i(e,t){return console.log(\"新增/编辑 数据\",e),Object(n[\"b\"])({url:t,method:\"post\",data:e})}},\"75fc\":function(e,t,a){\"use strict\";var n=a(\"a745\"),o=a.n(n);function i(e){if(o()(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}var r=a(\"774e\"),s=a.n(r),l=a(\"c8bb\"),c=a.n(l);function u(e){if(c()(Object(e))||\"[object Arguments]\"===Object.prototype.toString.call(e))return s()(e)}function d(){throw new TypeError(\"Invalid attempt to spread non-iterable instance\")}function f(e){return i(e)||u(e)||d()}a.d(t,\"a\",function(){return f})},\"774e\":function(e,t,a){e.exports=a(\"d2d5\")},\"8f47\":function(e,t,a){\"use strict\";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"a-card\",{attrs:{bordered:!1}},[a(\"div\",{staticClass:\"table-page-search-wrapper\"},[a(\"a-form\",{attrs:{layout:\"inline\"}},[a(\"a-row\",{attrs:{gutter:48}},[a(\"a-col\",{attrs:{md:6,sm:24}},[a(\"a-form-item\",{attrs:{label:\"版本名称\"}},[a(\"a-input\",{model:{value:e.queryParam.name,callback:function(t){e.$set(e.queryParam,\"name\",t)},expression:\"queryParam.name\"}})],1)],1),a(\"a-col\",{attrs:{md:5,sm:24}},[a(\"a-form-item\",{attrs:{label:\"安卓版本\"}},[a(\"a-select\",{attrs:{showSearch:\"\",placeholder:\"请选择版本\",optionFilterProp:\"children\",filterOption:e.filterOption},on:{change:function(t){return e.searchData()}},model:{value:e.queryParam.androidType,callback:function(t){e.$set(e.queryParam,\"androidType\",t)},expression:\"queryParam.androidType\"}},[a(\"a-select-option\",{attrs:{value:\"1\"}},[e._v(\"旧版\")]),a(\"a-select-option\",{attrs:{value:\"2\"}},[e._v(\"新版\")])],1)],1)],1),a(\"a-col\",{attrs:{md:5,sm:24}},[a(\"a-form-item\",{attrs:{label:\"导航类型\"}},[a(\"a-select\",{attrs:{showSearch:\"\",placeholder:\"请选择导航类型\",optionFilterProp:\"children\",filterOption:e.filterOption},on:{change:function(t){return e.searchData()}},model:{value:e.queryParam.navigateType,callback:function(t){e.$set(e.queryParam,\"navigateType\",t)},expression:\"queryParam.navigateType\"}},[a(\"a-select-option\",{attrs:{value:\"Gs\"}},[e._v(\"高仙\")]),a(\"a-select-option\",{attrs:{value:\"Xl\"}},[e._v(\"小驴\")])],1)],1)],1),a(\"a-col\",{attrs:{md:8,sm:24}},[a(\"span\",{staticClass:\"table-page-search-submitButtons\"},[a(\"a-button\",{attrs:{type:\"primary\"},on:{click:function(t){return e.searchData()}}},[e._v(\"查询\")]),a(\"a-button\",{staticStyle:{\"margin-left\":\"8px\"},on:{click:function(t){return e.resetQuery()}}},[e._v(\"重置\")]),a(\"a-button\",{directives:[{name:\"action\",rawName:\"v-action:add\",arg:\"add\"}],staticStyle:{\"margin-left\":\"8px\"},attrs:{type:\"primary\",icon:\"plus\"},on:{click:function(t){return e.$refs.createModal.add()}}},[e._v(\"新建\")])],1)])],1)],1)],1),a(\"s-table\",{ref:\"table\",attrs:{size:\"default\",rowKey:\"id\",columns:e.columns,data:e.loadData,alert:e.options.alert,rowSelection:e.options.rowSelection,showPagination:\"auto\"},scopedSlots:e._u([{key:\"serial\",fn:function(t,n,o){return a(\"span\",{},[e._v(\"\\n      \"+e._s(o+1)+\"\\n    \")])}},{key:\"contents\",fn:function(t){return a(\"span\",{},[a(\"ellipsis\",{attrs:{length:10,tooltip:\"\"}},[e._v(e._s(t))])],1)}},{key:\"action\",fn:function(t,n){return a(\"span\",{},[[a(\"a\",{directives:[{name:\"action\",rawName:\"v-action:edit\",arg:\"edit\"}],on:{click:function(t){return e.handleEditVisible(n)}}},[e._v(\"编辑\")]),a(\"a-divider\",{directives:[{name:\"action\",rawName:\"v-action:delete\",arg:\"delete\"}],attrs:{type:\"vertical\"}}),a(\"a\",{directives:[{name:\"action\",rawName:\"v-action:delete\",arg:\"delete\"}],on:{click:function(t){return e.handleDeleteUser(n)}}},[e._v(\"删除\")]),a(\"a-divider\",{attrs:{type:\"vertical\"}}),a(\"a\",{attrs:{href:e.url+\"RobotVersion/fileDownload?fileName=\"+n.url}},[e._v(\"下载\")])]],2)}}])}),a(\"edit-form\",{ref:\"editModal\",on:{ok:e.handleRefresh}}),a(\"create-form\",{ref:\"createModal\",on:{ok:e.handleRefresh}})],1)},o=[],i=(a(\"7f7f\"),a(\"2af9\")),r=a(\"680a\"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"a-modal\",{staticStyle:{top:\"20px\"},attrs:{title:\"编辑\",width:600},on:{ok:e.handleSubmit},model:{value:e.visible,callback:function(t){e.visible=t},expression:\"visible\"}},[a(\"a-form\",{attrs:{form:e.form}},[a(\"a-form-item\",{attrs:{label:\"版本描述\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a(\"a-textarea\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"contents\",{rules:[{message:\"请输入版本描述\"}],initialValue:e.editData.contents}],expression:\"[\\n          'contents',\\n          {\\n            rules: [{message: '请输入版本描述' }],\\n            initialValue: editData.contents,\\n          }]\"}],attrs:{placeholder:\"请输入描述\",rows:4}})],1)],1)],1)},l=[],c=a(\"2934\"),u={data:function(){return{labelCol:{xs:{span:24},sm:{span:7}},wrapperCol:{xs:{span:24},sm:{span:13}},visible:!1,confirmLoading:!1,form:this.$form.createForm(this),editData:{}}},methods:{add:function(e){this.form.resetFields(),this.visible=!0,this.editData=e},handleSubmit:function(){var e=this,t=this.form.validateFields;this.confirmLoading=!0,t(function(t,a){if(t)e.confirmLoading=!1;else{var n=Object.assign(a,{id:e.editData.id}),o=e;setTimeout(function(){Object(c[\"b\"])(n,\"/RobotVersion/editRobotVersionMsg\").then(function(t){0==t.code?(o.$message.success(\"修改成功\"),o.form.resetFields(),e.visible=!1,e.confirmLoading=!1,e.$emit(\"ok\",a)):o.$message.error(t.message)})},300)}})},handleCancel:function(){this.visible=!1,this.editData={}}}},d=u,f=a(\"2877\"),m=Object(f[\"a\"])(d,s,l,!1,null,null,null),p=m.exports,h=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"a-modal\",{staticStyle:{top:\"20px\"},attrs:{title:\"新建\",width:600},on:{ok:e.handleSubmit},model:{value:e.visible,callback:function(t){e.visible=t},expression:\"visible\"}},[a(\"a-form\",{attrs:{form:e.form}},[a(\"a-form-item\",{attrs:{label:\"版本描述\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a(\"a-textarea\",{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:[\"contents\",{rules:[{message:\"请输入描述\"}]}],expression:\"[\\n          'contents',\\n          {rules: [{ message: '请输入描述' }]}\\n        ]\"}],attrs:{placeholder:\"请输入描述\",rows:4}})],1),a(\"a-form-item\",{attrs:{label:\"上传\",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[a(\"a-upload\",{attrs:{name:\"file\",multiple:!1,action:e.url,fileList:e.fileList,headers:e.headers},on:{change:e.handleChange}},[a(\"a-button\",[a(\"a-icon\",{attrs:{type:\"upload\"}}),e._v(\" 点击上传\\n        \")],1)],1)],1)],1)],1)},b=[],v=a(\"75fc\"),g=a(\"91b6\"),w={data:function(){return{fileList:[],headers:{authorization:\"authorization-text\"},labelCol:{xs:{span:24},sm:{span:7}},wrapperCol:{xs:{span:24},sm:{span:13}},visible:!1,confirmLoading:!1,form:this.$form.createForm(this),fileName:\"\",newFileName:\"\",url:\"\"}},methods:{handleChange:function(e){var t=Object(v[\"a\"])(e.fileList);if(t=t.slice(-1),console.log(t),this.fileList=t,\"uploading\"!==e.file.status&&console.log(e.file,e.fileList),console.log(e.file.status),\"done\"==e.file.status){var a=e.file.response;0==a.code?(this.$message.success(\"\".concat(e.file.name,\" 上传成功\")),this.fileName=a.fileName,this.newFileName=a.newFileName):(this.$message.error(a.message),this.fileList=[])}else\"error\"==e.file.status&&this.$message.error(\"\".concat(e.file.name,\" 上传失败.\"))},add:function(){this.url=g[\"a\"]+\"RobotVersion/fileUpload\",console.log(this.url),this.fileList=[],this.visible=!0},handleSubmit:function(){var e=this,t=this.form.validateFields;if(this.confirmLoading=!0,\"\"==this.fileName)return this.$message.error(\"请先上传APP\"),!1;t(function(t,a){if(t)e.confirmLoading=!1;else{var n=e;setTimeout(function(){var t=Object.assign(a,{fileName:e.fileName,newFileName:e.newFileName});Object(c[\"b\"])(t,\"/RobotVersion/addRobotVersionMsg\").then(function(e){0==e.code?n.$message.success(\"新建成功\"):n.$message.error(e.message),n.visible=!1,n.confirmLoading=!1,n.$emit(\"ok\",a),n.url=\"\",n.form.resetFields()})},300)}})},handleCancel:function(){this.visible=!1}}},y=w,x=Object(f[\"a\"])(y,h,b,!1,null,null,null),$=x.exports,C={name:\"TableList\",components:{Ellipsis:i[\"c\"],STable:i[\"f\"],PageView:r[\"c\"],EditForm:p,CreateForm:$},data:function(){var e=this;return{headers:{authorization:\"authorization-text\"},url:g[\"a\"],queryParam:{name:\"\",navigateType:\"\",androidType:\"\"},editData:{},options:{alert:!1,rowSelection:null},columns:[{title:\"#\",dataIndex:\"no\",scopedSlots:{customRender:\"serial\"}},{title:\"名称\",dataIndex:\"name\"},{title:\"安卓版本\",dataIndex:\"androidType\"},{title:\"导航类型\",dataIndex:\"navigateType\"},{title:\"校验码\",dataIndex:\"code\"},{title:\"版本描述\",dataIndex:\"contents\",scopedSlots:{customRender:\"contents\"}},{title:\"时间\",dataIndex:\"createDate\"},{title:\"操作\",dataIndex:\"action\",scopedSlots:{customRender:\"action\"}}],loadData:function(t){return console.log(\"App 请求\",t),Object(c[\"b\"])(Object.assign(t,e.queryParam),\"/RobotVersion/queryRobotVersionMsg\").then(function(e){return console.log(e),e.result})}}},computed:{title:function(){return this.$route.meta.title}},methods:{filterOption:function(e,t){return t.componentOptions.children[0].text.toLowerCase().indexOf(e.toLowerCase())>=0},handleChange:function(e){\"uploading\"!==e.file.status&&console.log(e.file,e.fileList),\"done\"===e.file.status?this.$message.success(\"\".concat(e.file.name,\" file uploaded successfully\")):\"error\"===e.file.status&&this.$message.error(\"\".concat(e.file.name,\" file upload failed.\"))},handleRefresh:function(){this.$refs.table.refresh()},resetQuery:function(){this.queryParam={},this.$refs.table.refresh(!0)},handleEditVisible:function(e){this.$refs.editModal.add(e)},searchData:function(){this.$refs.table.refresh(!0)},handleDeleteUser:function(e){var t=this;this.$confirm({title:\"警告\",content:\"真的要删除 \".concat(e.name,\" 吗?\"),okText:\"删除\",okType:\"danger\",cancelText:\"取消\",onOk:function(){return console.log(\"OK\"),new Promise(function(a,n){setTimeout(Math.random()>.5?a:n,500);var o={id:e.id,url:e.url};Object(c[\"b\"])(o,\"/RobotVersion/delRobotVersionMsg\").then(function(e){console.log(\"删除返回值：\",e),0==e.code?(t.$message.success(\"删除成功\"),t.$refs.table.refresh()):t.$message.error(e.message)})}).catch(function(){return console.log(\"Oops errors!\")})},onCancel:function(){console.log(\"Cancel\")}})}}},k=C,O=(a(\"f8d3\"),Object(f[\"a\"])(k,n,o,!1,null,\"4d538224\",null));t[\"default\"]=O.exports},\"91b6\":function(e,t,a){\"use strict\";a.d(t,\"a\",function(){return n});var n=\"http://localhost:54321/\"},c8bb:function(e,t,a){e.exports=a(\"54a1\")},e4f5:function(e,t,a){},f8d3:function(e,t,a){\"use strict\";var n=a(\"e4f5\"),o=a.n(n);o.a}}]);","extractedComments":[]}